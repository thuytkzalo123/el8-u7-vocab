<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√†i T·∫≠p Tr·∫Øc Nghi·ªám: Online Shopping (B·∫£n m·∫´u)</title>
    <style>
        :root {
            --c-correct: #2E8B57; /* Seagreen */
            --c-wrong: #DC143C;   /* Crimson */
            /* --- THAY ƒê·ªîI M√ÄU ·ªû ƒê√ÇY --- */
            --c-highlight: #FFD700; /* Gold (ƒê√£ ƒë·ªïi t·ª´ Salmon) */
            /* ------------------------- */
            --c-subject: #0000CD; /* MediumBlue */
            --c-verb: #C71585;    /* MediumVioletRed */
            --c-text: #333;
            --c-bg: #f4f7f6;
            --font-main: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }

        * { box-sizing: border-box; }
        
        body {
            font-family: var(--font-main);
            background-color: var(--c-bg);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            min-height: 100vh;
            color: var(--c-text);
        }

        .container {
            width: 100%;
            max-width: 700px;
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        /* Header */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            font-weight: bold;
            color: #555;
            border-bottom: 2px solid #eee;
            padding-bottom: 15px;
        }

        /* Question Area */
        .question-box {
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 1.25rem;
            font-weight: bold;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .question-trans {
            font-size: 1.05rem;
            color: #444;
            margin-bottom: 15px;
            display: none; /* Hidden by default */
            border-left: 4px solid var(--c-wrong);
            padding: 8px 12px;
            background: #fff5f5;
            border-radius: 0 4px 4px 0;
            animation: fadeIn 0.3s ease;
        }

        /* Keywords Styling */
        .key {
            transition: all 0.3s ease;
            border-radius: 4px;
            padding: 0 2px;
        }
        
        /* Highlight state logic for Keyword */
        .question-box.show-hint .key,
        .question-box.answered .key {
            background-color: var(--c-highlight);
            /* ƒê·ªïi m√†u ch·ªØ th√†nh ƒëen khi n·ªÅn v√†ng ƒë·ªÉ d·ªÖ ƒë·ªçc h∆°n */
            color: #000; 
        }

        /* Grammar Analysis Styling (S/V) - Default is HIDDEN (black) */
        .subj, .verb { 
            color: inherit; 
            transition: color 0.3s ease;
        }

        /* Grammar Analysis Styling (S/V) - ACTIVE (Only when translation is ON) */
        .question-box.show-grammar .subj { color: var(--c-subject); }
        .question-box.show-grammar .verb { color: var(--c-verb); }

        /* Hint Button */
        .hint-btn {
            background: #ffaa00;
            color: white;
            border: none;
            padding: 6px 14px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: bold;
            margin-bottom: 20px;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }
        .hint-btn:hover { background: #e69900; }

        /* Options Grid */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
        }

        .option-btn {
            background: white;
            border: 2px solid #e0e0e0;
            padding: 12px 18px;
            border-radius: 8px;
            cursor: pointer;
            text-align: left;
            font-size: 1rem;
            transition: all 0.2s;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .option-btn:not(:disabled):hover {
            border-color: #bbb;
            background: #fafafa;
            transform: translateY(-1px);
        }

        .option-content {
            display: block;
            font-weight: 500;
        }

        .option-trans {
            font-size: 0.9rem;
            color: #666;
            margin-top: 6px;
            display: none; /* Hidden by default */
            font-style: italic;
            border-top: 1px dashed #ccc;
            padding-top: 4px;
        }

        /* States */
        .option-btn.correct {
            background-color: var(--c-correct);
            border-color: var(--c-correct);
            color: white;
        }
        .option-btn.correct .option-trans { color: #eee; border-top-color: rgba(255,255,255,0.3); }
        
        .option-btn.wrong {
            background-color: var(--c-wrong);
            border-color: var(--c-wrong);
            color: white;
        }
        .option-btn.wrong .option-trans { color: #eee; border-top-color: rgba(255,255,255,0.3); }

        .option-btn:disabled {
            cursor: default;
            opacity: 1;
        }
        
        .option-btn:disabled:not(.correct):not(.wrong) {
            opacity: 0.6;
            background: #f0f0f0;
        }

        /* Action Buttons Area */
        .action-area {
            display: flex;
            gap: 12px;
            margin-top: 25px;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }

        .action-area.visible {
            opacity: 1;
            pointer-events: auto;
        }

        .action-btn {
            width: 120px;
            padding: 10px;
            border: none;
            border-radius: 6px;
            color: white;
            cursor: pointer;
            font-weight: bold;
            font-size: 0.95rem;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .btn-explain { background-color: var(--c-correct); }
        .btn-explain:hover { background-color: #247046; }

        .btn-translate { background-color: var(--c-wrong); }
        .btn-translate:hover { background-color: #b01030; }

        /* Explanation Box */
        .explanation-box {
            margin-top: 20px;
            background: #e8f5e9;
            border: 1px solid #c8e6c9;
            border-radius: 8px;
            padding: 15px;
            display: none;
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .explain-row {
            margin-bottom: 8px;
            line-height: 1.5;
        }
        .explain-label {
            font-weight: bold;
            color: #2e7d32;
            margin-right: 5px;
            display: inline-block;
            min-width: 80px;
        }

        /* Result Screen */
        .result-screen {
            text-align: center;
            display: none;
            padding: 40px 0;
        }
        .score-display {
            font-size: 3.5rem;
            font-weight: bold;
            color: var(--c-correct);
            margin: 20px 0;
        }
        .retry-btn {
            background: var(--c-subject);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 1.1rem;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        .retry-btn:hover { background-color: #0000a0; }

        /* Navigation Button */
        .nav-btn-container {
            text-align: center;
            margin-top: 20px;
            height: 40px; 
        }
        #next-btn {
            padding: 10px 30px;
            background: #333;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            display: none;
        }
        #next-btn:hover { background: #000; }

        /* Responsive */
        @media (max-width: 480px) {
            .options-grid { grid-template-columns: 1fr; }
            .action-area { flex-direction: row; }
            .container { padding: 15px; }
            .question-text { font-size: 1.1rem; }
        }
    </style>
</head>
<body>

<div class="container">
    <div id="quiz-ui">
        <div class="header">
            <span id="progress-text">C√¢u 1/1</span>
            <span id="score-text">ƒêi·ªÉm: 0</span>
        </div>

        <div class="question-box" id="question-box">
            <div class="question-text" id="q-text"></div>
            <div class="question-trans" id="q-trans"></div>
        </div>

        <button class="hint-btn" onclick="toggleHint()">üí° G·ª£i √Ω</button>

        <div class="options-grid" id="options-container"></div>

        <div class="action-area" id="action-area">
            <button class="action-btn btn-explain" onclick="showExplanation()">Gi·∫£i th√≠ch</button>
            <button class="action-btn btn-translate" onclick="toggleTranslation()">D·ªãch nghƒ©a</button>
        </div>

        <div class="explanation-box" id="explanation-box"></div>

        <div class="nav-btn-container">
             <button id="next-btn" onclick="nextQuestion()">C√¢u ti·∫øp theo ‚ûú</button>
        </div>
    </div>

    <div class="result-screen" id="result-screen">
        <h2>K·∫øt qu·∫£ b√†i thi</h2>
        <div class="score-display" id="final-score">0/10</div>
        <p id="final-stats">B·∫°n ƒë√£ tr·∫£ l·ªùi ƒë√∫ng 0/1 c√¢u</p>
        <button class="retry-btn" onclick="restartQuiz()">L√†m l·∫°i b√†i thi</button>
    </div>
</div>

<script>
    /**
     * D·ªÆ LI·ªÜU C√ÇU H·ªéI (ƒê√É R√öT G·ªåN C√íN 1 C√ÇU)
     */
    const quizData = [
    // --- PH·∫¶N 1: Online Shopping (15 c√¢u) ---
    {
        question: `<span class="subj key">Online shopping</span> <span class="verb">is buying</span> a product or service over the __________.`,
        translation: `<span class="subj key">Mua s·∫Øm tr·ª±c tuy·∫øn</span> <span class="verb">l√† vi·ªác mua</span> m·ªôt s·∫£n ph·∫©m ho·∫∑c d·ªãch v·ª• qua <span class="key">internet</span>.`,
        options: [
            { text: "supermarket", trans: "si√™u th·ªã", isCorrect: false },
            { text: "internet", trans: "m·∫°ng internet", isCorrect: true },
            { text: "shopping centre", trans: "trung t√¢m mua s·∫Øm", isCorrect: false },
            { text: "open-air market", trans: "ch·ª£ tr·ªùi", isCorrect: false }
        ],
        explanation: { keyword: "'Online shopping'", knowledge: "T·ª´ v·ª±ng", topic: "ƒê·ªãnh nghƒ©a", features: "Online (tr·ª±c tuy·∫øn) ƒë·ªìng nghƒ©a v·ªõi vi·ªác s·ª≠ d·ª•ng Internet." }
    },
    {
        question: `To shop online, <span class="subj">you</span> <span class="verb key">visit</span> a seller‚Äôs website and __________ the product you want.`,
        translation: `ƒê·ªÉ mua s·∫Øm tr·ª±c tuy·∫øn, <span class="subj">b·∫°n</span> <span class="verb key">truy c·∫≠p</span> trang web c·ªßa ng∆∞·ªùi b√°n v√† <span class="verb">ch·ªçn</span> s·∫£n ph·∫©m b·∫°n mu·ªën.`,
        options: [
            { text: "bargain", trans: "m·∫∑c c·∫£", isCorrect: false },
            { text: "select", trans: "l·ª±a ch·ªçn", isCorrect: true },
            { text: "display", trans: "tr∆∞ng b√†y", isCorrect: false },
            { text: "spend", trans: "ti√™u x√†i", isCorrect: false }
        ],
        explanation: { keyword: "'visit a seller‚Äôs website'", knowledge: "T·ª´ v·ª±ng", topic: "Quy tr√¨nh mua h√†ng", features: "Tr√™n website, h√†nh ƒë·ªông t√¨m v√† l·∫•y s·∫£n ph·∫©m g·ªçi l√† 'select' (ch·ªçn)." }
    },
    {
        question: `<span class="subj">Online shopping</span> <span class="verb">is</span> very __________ because <span class="subj">you</span> <span class="verb">can buy</span> things <span class="key">anytime and anywhere</span>.`,
        translation: `<span class="subj">Mua s·∫Øm tr·ª±c tuy·∫øn</span> <span class="verb">th√¨</span> r·∫•t <span class="key">ti·ªán l·ª£i</span> v√¨ <span class="subj">b·∫°n</span> <span class="verb">c√≥ th·ªÉ mua</span> ƒë·ªì m·ªçi l√∫c m·ªçi n∆°i.`,
        options: [
            { text: "offline", trans: "tr·ª±c ti·∫øp (ngo·∫°i tuy·∫øn)", isCorrect: false },
            { text: "rare", trans: "hi·∫øm", isCorrect: false },
            { text: "convenient", trans: "ti·ªán l·ª£i", isCorrect: true },
            { text: "home-grown", trans: "c√¢y nh√† l√° v∆∞·ªùn", isCorrect: false }
        ],
        explanation: { keyword: "'anytime and anywhere'", knowledge: "T·ª´ v·ª±ng", topic: "L·ª£i √≠ch mua s·∫Øm", features: "Kh·∫£ nƒÉng mua m·ªçi l√∫c m·ªçi n∆°i l√† ƒë·ªãnh nghƒ©a c·ªßa s·ª± ti·ªán l·ª£i (convenient)." }
    },
    {
        question: `With __________, <span class="subj">people</span> <span class="verb">can shop</span> <span class="key">from home</span> without travelling.`,
        translation: `V·ªõi <span class="key">k·∫øt n·ªëi internet</span>, <span class="subj">m·ªçi ng∆∞·ªùi</span> <span class="verb">c√≥ th·ªÉ mua s·∫Øm</span> t·ª´ nh√† m√† kh√¥ng c·∫ßn ƒëi l·∫°i.`,
        options: [
            { text: "browsing", trans: "l∆∞·ªõt xem", isCorrect: false },
            { text: "internet access", trans: "k·∫øt n·ªëi internet", isCorrect: true },
            { text: "fixed price", trans: "gi√° c·ªë ƒë·ªãnh", isCorrect: false },
            { text: "price tag", trans: "m√°c gi√°", isCorrect: false }
        ],
        explanation: { keyword: "'from home'", knowledge: "T·ª´ v·ª±ng", topic: "ƒêi·ªÅu ki·ªán mua s·∫Øm", features: "ƒê·ªÉ shop from home (mua t·∫°i nh√†), ƒëi·ªÅu ki·ªán ti√™n quy·∫øt l√† ph·∫£i c√≥ internet access." }
    },
    {
        question: `One disadvantage of online shopping <span class="verb">is</span> that <span class="subj">products</span> <span class="verb">are</span> __________ what you <span class="key">expect</span>.`,
        translation: `M·ªôt b·∫•t l·ª£i c·ªßa mua s·∫Øm tr·ª±c tuy·∫øn <span class="verb">l√†</span> <span class="subj">s·∫£n ph·∫©m</span> <span class="verb">th√¨</span> <span class="key">ƒë√¥i khi [kh√°c]</span> nh·ªØng g√¨ b·∫°n mong ƒë·ª£i.`,
        options: [
            { text: "always", trans: "lu√¥n lu√¥n", isCorrect: false },
            { text: "usually", trans: "th∆∞·ªùng xuy√™n", isCorrect: false },
            { text: "sometimes", trans: "th·ªânh tho·∫£ng/ƒë√¥i khi", isCorrect: true },
            { text: "never", trans: "kh√¥ng bao gi·ªù", isCorrect: false }
        ],
        explanation: { keyword: "'disadvantage', 'expect'", knowledge: "Tr·∫°ng t·ª´ t·∫ßn su·∫•t", topic: "R·ªßi ro mua s·∫Øm", features: "Vi·ªác h√†ng kh√¥ng gi·ªëng ·∫£nh l√† r·ªßi ro x·∫£y ra 'th·ªânh tho·∫£ng' (sometimes)." }
    },
    {
        question: `If <span class="subj">you</span> <span class="verb">are not</span> happy with a product, <span class="subj">you</span> <span class="verb key">can return</span> it, but <span class="subj">you</span> <span class="verb">may have to</span> __________.`,
        translation: `N·∫øu <span class="subj">b·∫°n</span> <span class="verb">kh√¥ng</span> h√†i l√≤ng v·ªõi s·∫£n ph·∫©m, <span class="subj">b·∫°n</span> <span class="verb key">c√≥ th·ªÉ tr·∫£</span> n√≥, nh∆∞ng <span class="subj">b·∫°n</span> <span class="verb">c√≥ th·ªÉ ph·∫£i</span> <span class="key">tr·∫£ ph√≠ v·∫≠n chuy·ªÉn</span>.`,
        options: [
            { text: "bargain", trans: "m·∫∑c c·∫£", isCorrect: false },
            { text: "pay for shipping", trans: "tr·∫£ ph√≠ v·∫≠n chuy·ªÉn", isCorrect: true },
            { text: "browse more", trans: "xem th√™m", isCorrect: false },
            { text: "lower the price", trans: "h·∫° gi√°", isCorrect: false }
        ],
        explanation: { keyword: "'return'", knowledge: "Ki·∫øn th·ª©c th·ª±c t·∫ø", topic: "Ch√≠nh s√°ch ƒë·ªïi tr·∫£", features: "Khi tr·∫£ h√†ng (return), ng∆∞·ªùi mua th∆∞·ªùng ch·ªãu ph√≠ ship (pay for shipping)." }
    },
    {
        question: `<span class="subj">Online shopping</span> <span class="verb key">saves</span> time and money because <span class="subj">people</span> <span class="verb">don‚Äôt need</span> to __________.`,
        translation: `<span class="subj">Mua s·∫Øm tr·ª±c tuy·∫øn</span> <span class="verb key">ti·∫øt ki·ªám</span> th·ªùi gian v√† ti·ªÅn b·∫°c v√¨ <span class="subj">m·ªçi ng∆∞·ªùi</span> <span class="verb">kh√¥ng c·∫ßn</span> ph·∫£i <span class="key">t·ªën th·ªùi gian ƒëi l·∫°i</span>.`,
        options: [
            { text: "shop online", trans: "mua s·∫Øm tr·ª±c tuy·∫øn", isCorrect: false },
            { text: "spend time travelling", trans: "t·ªën th·ªùi gian ƒëi l·∫°i", isCorrect: true },
            { text: "browse products", trans: "xem s·∫£n ph·∫©m", isCorrect: false },
            { text: "pay online", trans: "thanh to√°n tr·ª±c tuy·∫øn", isCorrect: false }
        ],
        explanation: { keyword: "'saves time'", knowledge: "C·ª•m t·ª´ (Collocation)", topic: "L·ª£i √≠ch", features: "Ti·∫øt ki·ªám th·ªùi gian ƒë·ªëi l·∫≠p v·ªõi vi·ªác ph·∫£i di chuy·ªÉn (spend time travelling)." }
    },
    {
        question: `Because there <span class="verb">are</span> <span class="key">many products</span> to choose from, some <span class="subj">people</span> <span class="verb">become</span> a __________.`,
        translation: `B·ªüi v√¨ <span class="verb">c√≥</span> qu√° nhi·ªÅu s·∫£n ph·∫©m ƒë·ªÉ ch·ªçn, m·ªôt s·ªë <span class="subj">ng∆∞·ªùi</span> <span class="verb">tr·ªü th√†nh</span> <span class="key">ng∆∞·ªùi nghi·ªán mua s·∫Øm</span>.`,
        options: [
            { text: "customer", trans: "kh√°ch h√†ng", isCorrect: false },
            { text: "shopaholic", trans: "ng∆∞·ªùi nghi·ªán mua s·∫Øm", isCorrect: true },
            { text: "seller", trans: "ng∆∞·ªùi b√°n", isCorrect: false },
            { text: "manager", trans: "qu·∫£n l√Ω", isCorrect: false }
        ],
        explanation: { keyword: "'many products', 'choose from'", knowledge: "T·ª´ v·ª±ng", topic: "Th√≥i quen mua s·∫Øm", features: "Vi·ªác kh√¥ng ki·ªÅm ch·∫ø tr∆∞·ªõc nhi·ªÅu s·∫£n ph·∫©m d·∫´n ƒë·∫øn nghi·ªán mua s·∫Øm (shopaholic)." }
    },
    {
        question: `A <span class="subj key">shopaholic</span> <span class="verb">may buy</span> things <span class="subj">they</span> <span class="verb">don‚Äôt</span> really __________.`,
        translation: `M·ªôt <span class="subj key">ng∆∞·ªùi nghi·ªán mua s·∫Øm</span> <span class="verb">c√≥ th·ªÉ mua</span> nh·ªØng th·ª© <span class="subj">h·ªç</span> <span class="verb">kh√¥ng</span> th·ª±c s·ª± <span class="key">c·∫ßn</span>.`,
        options: [
            { text: "need", trans: "c·∫ßn", isCorrect: true },
            { text: "display", trans: "tr∆∞ng b√†y", isCorrect: false },
            { text: "offer", trans: "cung c·∫•p", isCorrect: false },
            { text: "fix", trans: "s·ª≠a ch·ªØa", isCorrect: false }
        ],
        explanation: { keyword: "'shopaholic'", knowledge: "ƒê·ªãnh nghƒ©a", topic: "Shopaholic", features: "ƒê·∫∑c ƒëi·ªÉm c·ªßa nghi·ªán mua s·∫Øm l√† mua nh·ªØng th·ª© kh√¥ng c·∫ßn thi·∫øt (don't need)." }
    },
    {
        question: `When shopping online, <span class="subj">customers</span> often __________ <span class="key">many products</span> before deciding to buy.`,
        translation: `Khi mua s·∫Øm tr·ª±c tuy·∫øn, <span class="subj">kh√°ch h√†ng</span> th∆∞·ªùng <span class="verb">l∆∞·ªõt xem</span> nhi·ªÅu s·∫£n ph·∫©m tr∆∞·ªõc khi quy·∫øt ƒë·ªãnh mua.`,
        options: [
            { text: "display", trans: "tr∆∞ng b√†y", isCorrect: false },
            { text: "browse", trans: "l∆∞·ªõt xem/duy·ªát", isCorrect: true },
            { text: "avoid", trans: "tr√°nh", isCorrect: false },
            { text: "return", trans: "tr·∫£ l·∫°i", isCorrect: false }
        ],
        explanation: { keyword: "'many products', 'before deciding'", knowledge: "T·ª´ v·ª±ng", topic: "H√†nh vi mua s·∫Øm", features: "H√†nh ƒë·ªông xem qua nhi·ªÅu h√†ng h√≥a tr√™n m·∫°ng g·ªçi l√† 'browse'." }
    },
    {
        question: `<span class="subj">Products</span> in online shops <span class="verb">are usually shown</span> with a __________.`,
        translation: `<span class="subj">S·∫£n ph·∫©m</span> trong c√°c shop online <span class="verb">th∆∞·ªùng ƒë∆∞·ª£c hi·ªÉn th·ªã</span> c√πng v·ªõi m·ªôt <span class="key">m√°c gi√°</span>.`,
        options: [
            { text: "costume", trans: "trang ph·ª•c", isCorrect: false },
            { text: "price tag", trans: "m√°c gi√°/gi√° ti·ªÅn", isCorrect: true },
            { text: "fixed place", trans: "ƒë·ªãa ƒëi·ªÉm c·ªë ƒë·ªãnh", isCorrect: false },
            { text: "shelf", trans: "c√°i k·ªá", isCorrect: false }
        ],
        explanation: { keyword: "'shown with'", knowledge: "T·ª´ v·ª±ng", topic: "Hi·ªÉn th·ªã s·∫£n ph·∫©m", features: "S·∫£n ph·∫©m lu√¥n ƒëi k√®m gi√° ti·ªÅn (price tag)." }
    },
    {
        question: `Unlike offline shopping, <span class="subj">online shopping</span> <span class="verb">does not allow</span> customers to __________ products.`,
        translation: `Kh√°c v·ªõi mua s·∫Øm tr·ª±c ti·∫øp, <span class="subj">mua s·∫Øm tr·ª±c tuy·∫øn</span> <span class="verb">kh√¥ng cho ph√©p</span> kh√°ch h√†ng <span class="verb">ch·∫°m v√†o</span> s·∫£n ph·∫©m.`,
        options: [
            { text: "order", trans: "ƒë·∫∑t h√†ng", isCorrect: false },
            { text: "touch", trans: "ch·∫°m v√†o", isCorrect: true },
            { text: "pay for", trans: "tr·∫£ ti·ªÅn", isCorrect: false },
            { text: "return", trans: "tr·∫£ l·∫°i", isCorrect: false }
        ],
        explanation: { keyword: "'online shopping', 'does not allow'", knowledge: "So s√°nh", topic: "H·∫°n ch·∫ø online", features: "H·∫°n ch·∫ø l·ªõn nh·∫•t c·ªßa online l√† kh√¥ng ƒë∆∞·ª£c s·ªù/th·ª≠ (touch) s·∫£n ph·∫©m." }
    },
    {
        question: `<span class="subj">People</span> __________ <span class="verb">shop</span> online because it <span class="verb">is</span> <span class="key">easy and fast</span>.`,
        translation: `<span class="subj">M·ªçi ng∆∞·ªùi</span> <span class="key">th∆∞·ªùng</span> <span class="verb">mua s·∫Øm</span> tr·ª±c tuy·∫øn v√¨ n√≥ <span class="verb">th√¨</span> d·ªÖ v√† nhanh.`,
        options: [
            { text: "rarely", trans: "hi·∫øm khi", isCorrect: false },
            { text: "never", trans: "kh√¥ng bao gi·ªù", isCorrect: false },
            { text: "often", trans: "th∆∞·ªùng", isCorrect: true },
            { text: "hardly", trans: "h·∫ßu nh∆∞ kh√¥ng", isCorrect: false }
        ],
        explanation: { keyword: "'easy and fast'", knowledge: "Tr·∫°ng t·ª´ t·∫ßn su·∫•t", topic: "Xu h∆∞·ªõng", features: "V√¨ d·ªÖ v√† nhanh n√™n h√†nh ƒë·ªông n√†y x·∫£y ra th∆∞·ªùng xuy√™n (often)." }
    },
    {
        question: `When <span class="subj">items</span> <span class="verb">are</span> __________, <span class="subj">customers</span> <span class="verb">can buy</span> them at a <span class="key">lower price</span>.`,
        translation: `Khi <span class="subj">c√°c m√≥n h√†ng</span> <span class="key">ƒëang gi·∫£m gi√°</span>, <span class="subj">kh√°ch h√†ng</span> <span class="verb">c√≥ th·ªÉ mua</span> ch√∫ng v·ªõi gi√° th·∫•p h∆°n.`,
        options: [
            { text: "home-made", trans: "l√†m t·∫°i nh√†", isCorrect: false },
            { text: "on sale", trans: "ƒëang gi·∫£m gi√°", isCorrect: true },
            { text: "offline", trans: "ngo·∫°i tuy·∫øn", isCorrect: false },
            { text: "fixed", trans: "c·ªë ƒë·ªãnh", isCorrect: false }
        ],
        explanation: { keyword: "'lower price'", knowledge: "C·ª•m t·ª´ (Idiom)", topic: "Khuy·∫øn m√£i", features: "Tr·∫°ng th√°i b√°n gi√° th·∫•p h∆°n b√¨nh th∆∞·ªùng g·ªçi l√† 'on sale'." }
    },
    {
        question: `<span class="subj">Online shops</span> usually <span class="verb">offer</span> a __________ of products for customers to <span class="key">choose from</span>.`,
        translation: `<span class="subj">C√°c c·ª≠a h√†ng tr·ª±c tuy·∫øn</span> th∆∞·ªùng <span class="verb">cung c·∫•p</span> m·ªôt <span class="key">ph·∫°m vi r·ªông/ƒëa d·∫°ng</span> c√°c s·∫£n ph·∫©m cho kh√°ch ch·ªçn.`,
        options: [
            { text: "lower price", trans: "gi√° th·∫•p h∆°n", isCorrect: false },
            { text: "wide range", trans: "ph·∫°m vi r·ªông/ƒëa d·∫°ng", isCorrect: true },
            { text: "minority group", trans: "nh√≥m thi·ªÉu s·ªë", isCorrect: false },
            { text: "farmers‚Äô market", trans: "ch·ª£ n√¥ng s·∫£n", isCorrect: false }
        ],
        explanation: { keyword: "'choose from'", knowledge: "C·ª•m danh t·ª´", topic: "S·ª± ƒëa d·∫°ng", features: "C·ª•m t·ª´ 'a wide range of' nghƒ©a l√† r·∫•t nhi·ªÅu lo·∫°i/ƒëa d·∫°ng ƒë·ªÉ l·ª±a ch·ªçn." }
    },

    // --- PH·∫¶N 2: Shopping Centres (12 c√¢u) ---
    {
        question: `<span class="subj">Shopping centres</span> usually __________ a lot of <span class="key">customers</span> at weekends.`,
        translation: `<span class="subj">C√°c trung t√¢m mua s·∫Øm</span> th∆∞·ªùng <span class="verb">thu h√∫t</span> r·∫•t nhi·ªÅu kh√°ch h√†ng v√†o cu·ªëi tu·∫ßn.`,
        options: [
            { text: "buy", trans: "mua", isCorrect: false },
            { text: "attract", trans: "thu h√∫t", isCorrect: true },
            { text: "display", trans: "tr∆∞ng b√†y", isCorrect: false },
            { text: "spend", trans: "ti√™u x√†i", isCorrect: false }
        ],
        explanation: { keyword: "'customers', 'shopping centres'", knowledge: "T·ª´ v·ª±ng", topic: "Ho·∫°t ƒë·ªông kinh doanh", features: "Trung t√¢m mua s·∫Øm 'thu h√∫t' (attract) ng∆∞·ªùi ƒë·∫øn." }
    },
    {
        question: `<span class="subj">Customers</span> <span class="verb">like</span> shopping centres because <span class="subj">they</span> <span class="verb">offer</span> a __________ of products.`,
        translation: `<span class="subj">Kh√°ch h√†ng</span> <span class="verb">th√≠ch</span> trung t√¢m mua s·∫Øm v√¨ <span class="subj">ch√∫ng</span> <span class="verb">cung c·∫•p</span> s·ª± <span class="key">ƒëa d·∫°ng</span> s·∫£n ph·∫©m.`,
        options: [
            { text: "fixed price", trans: "gi√° c·ªë ƒë·ªãnh", isCorrect: false },
            { text: "lower price", trans: "gi√° th·∫•p h∆°n", isCorrect: false },
            { text: "wide range", trans: "ph·∫°m vi r·ªông/ƒëa d·∫°ng", isCorrect: true },
            { text: "price tag", trans: "m√°c gi√°", isCorrect: false }
        ],
        explanation: { keyword: "'offer', 'products'", knowledge: "C·ª•m t·ª´", topic: "L·ª£i √≠ch", features: "'A wide range of' l√† c·ª•m t·ª´ c·ªë ƒë·ªãnh ch·ªâ s·ª± ƒëa d·∫°ng." }
    },
    {
        question: `<span class="subj">People</span> often <span class="verb">feel</span> more __________ when <span class="subj">they</span> <span class="verb">can</span> <span class="key">touch products</span> before buying.`,
        translation: `<span class="subj">M·ªçi ng∆∞·ªùi</span> th∆∞·ªùng <span class="verb">c·∫£m th·∫•y</span> <span class="key">tho·∫£i m√°i/an t√¢m</span> h∆°n khi <span class="subj">h·ªç</span> <span class="verb">c√≥ th·ªÉ ch·∫°m v√†o</span> s·∫£n ph·∫©m tr∆∞·ªõc khi mua.`,
        options: [
            { text: "convenient", trans: "ti·ªán l·ª£i", isCorrect: false },
            { text: "comfortable", trans: "tho·∫£i m√°i/an t√¢m", isCorrect: true },
            { text: "special", trans: "ƒë·∫∑c bi·ªát", isCorrect: false },
            { text: "excited", trans: "h√†o h·ª©ng", isCorrect: false }
        ],
        explanation: { keyword: "'touch products'", knowledge: "T√≠nh t·ª´ ch·ªâ c·∫£m x√∫c", topic: "T√¢m l√Ω kh√°ch h√†ng", features: "ƒê∆∞·ª£c s·ªù t·∫≠n tay t·∫°o c·∫£m gi√°c an t√¢m/tho·∫£i m√°i (comfortable)." }
    },
    {
        question: `Many <span class="subj">shopping centres</span> <span class="verb">offer</span> free __________ such as <span class="key">live music and performances</span>.`,
        translation: `Nhi·ªÅu <span class="subj">trung t√¢m mua s·∫Øm</span> <span class="verb">cung c·∫•p</span> <span class="key">s·ª± gi·∫£i tr√≠</span> mi·ªÖn ph√≠ nh∆∞ nh·∫°c s·ªëng v√† bi·ªÉu di·ªÖn.`,
        options: [
            { text: "exercise", trans: "t·∫≠p th·ªÉ d·ª•c", isCorrect: false },
            { text: "decorations", trans: "trang tr√≠", isCorrect: false },
            { text: "entertainment", trans: "gi·∫£i tr√≠", isCorrect: true },
            { text: "internet access", trans: "k·∫øt n·ªëi internet", isCorrect: false }
        ],
        explanation: { keyword: "'live music', 'performances'", knowledge: "T·ª´ v·ª±ng", topic: "D·ªãch v·ª• ƒëi k√®m", features: "Nh·∫°c v√† bi·ªÉu di·ªÖn thu·ªôc nh√≥m gi·∫£i tr√≠ (entertainment)." }
    },
    {
        question: `Some <span class="subj">people</span> <span class="verb">go</span> to shopping centres just to __________ <span class="key">with friends</span>.`,
        translation: `M·ªôt s·ªë <span class="subj">ng∆∞·ªùi</span> <span class="verb">ƒë·∫øn</span> trung t√¢m mua s·∫Øm ch·ªâ ƒë·ªÉ <span class="verb">ƒëi ch∆°i/t·ª• t·∫≠p</span> v·ªõi b·∫°n b√®.`,
        options: [
            { text: "bargain", trans: "m·∫∑c c·∫£", isCorrect: false },
            { text: "hang out", trans: "ƒëi ch∆°i/t·ª• t·∫≠p", isCorrect: true },
            { text: "spend money", trans: "ti√™u ti·ªÅn", isCorrect: false },
            { text: "shop online", trans: "mua s·∫Øm online", isCorrect: false }
        ],
        explanation: { keyword: "'with friends'", knowledge: "C·ª•m ƒë·ªông t·ª´ (Phrasal Verb)", topic: "Ho·∫°t ƒë·ªông x√£ h·ªôi", features: "'Hang out' l√† c·ª•m t·ª´ th√¥ng d·ª•ng nghƒ©a l√† ƒëi ch∆°i, t·ª• t·∫≠p b·∫°n b√®." }
    },
    {
        question: `During <span class="key">holidays</span>, <span class="subj">shopping centres</span> <span class="verb">are</span> full of __________ and excitement.`,
        translation: `V√†o c√°c d·ªãp l·ªÖ, <span class="subj">trung t√¢m mua s·∫Øm</span> <span class="verb">tr√†n ng·∫≠p</span> <span class="key">ƒë·ªì trang tr√≠</span> v√† s·ª± n√°o nhi·ªát.`,
        options: [
            { text: "costumes", trans: "trang ph·ª•c", isCorrect: false },
            { text: "decorations", trans: "ƒë·ªì trang tr√≠", isCorrect: true },
            { text: "shelves", trans: "k·ªá h√†ng", isCorrect: false },
            { text: "products", trans: "s·∫£n ph·∫©m", isCorrect: false }
        ],
        explanation: { keyword: "'holidays'", knowledge: "T·ª´ v·ª±ng", topic: "Kh√¥ng kh√≠ l·ªÖ h·ªôi", features: "D·ªãp l·ªÖ th∆∞·ªùng c√≥ trang tr√≠ (decorations)." }
    },
    {
        question: `<span class="subj">People</span> <span class="verb">can</span> <span class="key">walk</span> in clean and well-lit areas to get some __________.`,
        translation: `<span class="subj">M·ªçi ng∆∞·ªùi</span> <span class="verb">c√≥ th·ªÉ ƒëi b·ªô</span> trong nh·ªØng khu v·ª±c s·∫°ch s·∫Ω v√† ƒë·ªß √°nh s√°ng ƒë·ªÉ <span class="key">t·∫≠p th·ªÉ d·ª•c/v·∫≠n ƒë·ªông</span>.`,
        options: [
            { text: "exercise", trans: "b√†i t·∫≠p/v·∫≠n ƒë·ªông", isCorrect: true },
            { text: "sale", trans: "gi·∫£m gi√°", isCorrect: false },
            { text: "browsing", trans: "xem h√†ng", isCorrect: false },
            { text: "shopping", trans: "mua s·∫Øm", isCorrect: false }
        ],
        explanation: { keyword: "'walk'", knowledge: "Collocation", topic: "L·ª£i √≠ch s·ª©c kh·ªèe", features: "'Get some exercise' l√† c·ª•m t·ª´ ch·ªâ vi·ªác v·∫≠n ƒë·ªông th√¢n th·ªÉ." }
    },
    {
        question: `<span class="subj">Shopping centres</span> <span class="verb">are</span> very __________ because <span class="subj">they</span> <span class="verb">have</span> <span class="key">air conditioning and heating</span>.`,
        translation: `<span class="subj">Trung t√¢m mua s·∫Øm</span> <span class="verb">th√¨</span> r·∫•t <span class="key">ti·ªán nghi/tho·∫£i m√°i</span> v√¨ <span class="subj">ch√∫ng</span> <span class="verb">c√≥</span> ƒëi·ªÅu h√≤a v√† s∆∞·ªüi.`,
        options: [
            { text: "rare", trans: "hi·∫øm", isCorrect: false },
            { text: "offline", trans: "ngo·∫°i tuy·∫øn", isCorrect: false },
            { text: "convenient", trans: "ti·ªán l·ª£i/ti·ªán nghi", isCorrect: true },
            { text: "home-grown", trans: "nh√† tr·ªìng", isCorrect: false }
        ],
        explanation: { keyword: "'air conditioning', 'heating'", knowledge: "T√≠nh t·ª´", topic: "C∆° s·ªü v·∫≠t ch·∫•t", features: "C√≥ ƒëi·ªÅu h√≤a t·∫°o s·ª± ti·ªán nghi (convenient/comfortable)." }
    },
    {
        question: `When <span class="subj">items</span> <span class="verb">are</span> __________, <span class="subj">they</span> <span class="verb">are sold</span> at a <span class="key">lower price</span> than usual.`,
        translation: `Khi <span class="subj">c√°c m√≥n h√†ng</span> <span class="key">ƒëang gi·∫£m gi√°</span>, <span class="subj">ch√∫ng</span> <span class="verb">ƒë∆∞·ª£c b√°n</span> v·ªõi gi√° th·∫•p h∆°n b√¨nh th∆∞·ªùng.`,
        options: [
            { text: "displayed", trans: "ƒë∆∞·ª£c tr∆∞ng b√†y", isCorrect: false },
            { text: "fixed", trans: "c·ªë ƒë·ªãnh", isCorrect: false },
            { text: "on sale", trans: "ƒëang gi·∫£m gi√°", isCorrect: true },
            { text: "home-made", trans: "l√†m t·∫°i nh√†", isCorrect: false }
        ],
        explanation: { keyword: "'lower price'", knowledge: "C·ª•m t·ª´", topic: "Khuy·∫øn m√£i", features: "On sale = Gi·∫£m gi√°." }
    },
    {
        question: `Some <span class="subj">people</span> <span class="verb">visit</span> shopping centres to <span class="key">avoid the heat or cold</span> __________.`,
        translation: `M·ªôt s·ªë <span class="subj">ng∆∞·ªùi</span> <span class="verb">gh√©</span> trung t√¢m mua s·∫Øm ƒë·ªÉ tr√°nh c√°i n√≥ng ho·∫∑c l·∫°nh <span class="key">b√™n ngo√†i</span>.`,
        options: [
            { text: "inside", trans: "b√™n trong", isCorrect: false },
            { text: "online", trans: "tr·ª±c tuy·∫øn", isCorrect: false },
            { text: "outside", trans: "b√™n ngo√†i", isCorrect: true },
            { text: "usually", trans: "th∆∞·ªùng xuy√™n", isCorrect: false }
        ],
        explanation: { keyword: "'avoid the heat or cold'", knowledge: "Tr·∫°ng t·ª´ ch·ªâ n∆°i ch·ªën", topic: "L√Ω do ƒëi mall", features: "Tr√°nh th·ªùi ti·∫øt kh·∫Øc nghi·ªát ·ªü b√™n ngo√†i (outside)." }
    },
    {
        question: `In <span class="subj">supermarkets</span>, <span class="subj">products</span> <span class="verb">are usually</span> __________ <span class="key">on shelves</span> with price tags.`,
        translation: `Trong <span class="subj">si√™u th·ªã</span>, <span class="subj">s·∫£n ph·∫©m</span> <span class="verb">th∆∞·ªùng ƒë∆∞·ª£c</span> <span class="key">tr∆∞ng b√†y</span> tr√™n k·ªá v·ªõi m√°c gi√°.`,
        options: [
            { text: "bargained", trans: "m·∫∑c c·∫£", isCorrect: false },
            { text: "displayed", trans: "tr∆∞ng b√†y", isCorrect: true },
            { text: "avoided", trans: "tr√°nh", isCorrect: false },
            { text: "spent", trans: "ti√™u", isCorrect: false }
        ],
        explanation: { keyword: "'on shelves'", knowledge: "T·ª´ v·ª±ng", topic: "C√°ch b√†y tr√≠", features: "H√†ng h√≥a ƒë·∫∑t tr√™n k·ªá l√† h√†nh ƒë·ªông tr∆∞ng b√†y (display)." }
    },
    {
        question: `Unlike farmers‚Äô markets, most <span class="subj">shopping centres</span> <span class="verb">have</span> __________ prices.`,
        translation: `Kh√°c v·ªõi ch·ª£ n√¥ng s·∫£n, h·∫ßu h·∫øt <span class="subj">trung t√¢m mua s·∫Øm</span> <span class="verb">c√≥</span> gi√° <span class="key">c·ªë ƒë·ªãnh</span>.`,
        options: [
            { text: "lower", trans: "th·∫•p h∆°n", isCorrect: false },
            { text: "fixed", trans: "c·ªë ƒë·ªãnh", isCorrect: true },
            { text: "rare", trans: "hi·∫øm", isCorrect: false },
            { text: "online", trans: "tr·ª±c tuy·∫øn", isCorrect: false }
        ],
        explanation: { keyword: "'Unlike farmers‚Äô markets'", knowledge: "T·ª´ v·ª±ng/VƒÉn h√≥a", topic: "Gi√° c·∫£", features: "Ch·ª£ th√¨ m·∫∑c c·∫£, c√≤n trung t√¢m th∆∞∆°ng m·∫°i th√¨ gi√° c·ªë ƒë·ªãnh (fixed prices)." }
    },

    // --- PH·∫¶N 3: T·ªïng h·ª£p (10 c√¢u) ---
    {
        question: `Many <span class="subj">people</span> <span class="verb">prefer</span> <span class="key">online shopping</span> because <span class="subj">they</span> <span class="verb">can</span> __________ at home.`,
        translation: `Nhi·ªÅu <span class="subj">ng∆∞·ªùi</span> <span class="verb">th√≠ch</span> mua s·∫Øm online h∆°n v√¨ <span class="subj">h·ªç</span> <span class="verb">c√≥ th·ªÉ</span> <span class="key">mua s·∫Øm</span> t·∫°i nh√†.`,
        options: [
            { text: "bargain", trans: "m·∫∑c c·∫£", isCorrect: false },
            { text: "spend time", trans: "ti√™u th·ªùi gian", isCorrect: false },
            { text: "shop", trans: "mua s·∫Øm", isCorrect: true },
            { text: "display", trans: "tr∆∞ng b√†y", isCorrect: false }
        ],
        explanation: { keyword: "'online shopping'", knowledge: "ƒê·ªông t·ª´", topic: "H√†nh ƒë·ªông", features: "ƒê·ªông t·ª´ ch√≠nh t∆∞∆°ng ·ª©ng v·ªõi danh t·ª´ shopping l√† 'shop'." }
    },
    {
        question: `In an <span class="key">online shop</span>, <span class="subj">customers</span> <span class="verb">cannot</span> __________ the products before buying.`,
        translation: `Trong c·ª≠a h√†ng online, <span class="subj">kh√°ch h√†ng</span> <span class="verb">kh√¥ng th·ªÉ</span> <span class="verb">ch·∫°m v√†o</span> s·∫£n ph·∫©m tr∆∞·ªõc khi mua.`,
        options: [
            { text: "return", trans: "tr·∫£ l·∫°i", isCorrect: false },
            { text: "touch", trans: "ch·∫°m v√†o", isCorrect: true },
            { text: "order", trans: "ƒë·∫∑t h√†ng", isCorrect: false },
            { text: "pay for", trans: "tr·∫£ ti·ªÅn", isCorrect: false }
        ],
        explanation: { keyword: "'online shop', 'cannot'", knowledge: "T·ª´ v·ª±ng", topic: "H·∫°n ch·∫ø online", features: "Kh√¥ng th·ªÉ s·ªù/ch·∫°m (touch) l√† ƒë·∫∑c ƒëi·ªÉm ch√≠nh." }
    },
    {
        question: `<span class="subj">Shopping centres</span> and supermarkets <span class="verb">are</span> examples of __________ shops.`,
        translation: `<span class="subj">Trung t√¢m mua s·∫Øm</span> v√† si√™u th·ªã <span class="verb">l√†</span> v√≠ d·ª• c·ªßa c√°c c·ª≠a h√†ng <span class="key">tr·ª±c ti·∫øp/truy·ªÅn th·ªëng</span>.`,
        options: [
            { text: "online", trans: "tr·ª±c tuy·∫øn", isCorrect: false },
            { text: "offline", trans: "tr·ª±c ti·∫øp (ngo·∫°i tuy·∫øn)", isCorrect: true },
            { text: "discount", trans: "gi·∫£m gi√°", isCorrect: false },
            { text: "speciality", trans: "chuy√™n doanh", isCorrect: false }
        ],
        explanation: { keyword: "'Shopping centres', 'supermarkets'", knowledge: "Ph√¢n lo·∫°i", topic: "Lo·∫°i h√¨nh mua s·∫Øm", features: "ƒê·ªëi l·∫≠p v·ªõi online l√† offline (c·ª≠a h√†ng v·∫≠t l√Ω)." }
    },
    {
        question: `<span class="subj">People</span> often <span class="verb">compare</span> prices and read reviews when __________ <span class="key">online</span>.`,
        translation: `<span class="subj">M·ªçi ng∆∞·ªùi</span> th∆∞·ªùng <span class="verb">so s√°nh</span> gi√° v√† ƒë·ªçc ƒë√°nh gi√° khi <span class="key">mua s·∫Øm</span> tr·ª±c tuy·∫øn.`,
        options: [
            { text: "shopping", trans: "mua s·∫Øm", isCorrect: true },
            { text: "spending", trans: "ti√™u x√†i", isCorrect: false },
            { text: "displaying", trans: "tr∆∞ng b√†y", isCorrect: false },
            { text: "fixing", trans: "s·ª≠a ch·ªØa", isCorrect: false }
        ],
        explanation: { keyword: "'online'", knowledge: "Ng·ªØ ph√°p (V-ing)", topic: "H√†nh ƒë·ªông", features: "When shopping = When they shop." }
    },
    {
        question: `Some <span class="subj">customers</span> <span class="verb">like</span> <span class="key">discount shops</span> because <span class="subj">they</span> <span class="verb">sell</span> products at a __________.`,
        translation: `<span class="subj">M·ªôt s·ªë kh√°ch</span> <span class="verb">th√≠ch</span> c·ª≠a h√†ng gi·∫£m gi√° v√¨ <span class="subj">ch√∫ng</span> <span class="verb">b√°n</span> s·∫£n ph·∫©m ·ªü m·ª©c <span class="key">gi√° th·∫•p h∆°n</span>.`,
        options: [
            { text: "fixed price", trans: "gi√° c·ªë ƒë·ªãnh", isCorrect: false },
            { text: "wide range", trans: "ph·∫°m vi r·ªông", isCorrect: false },
            { text: "lower price", trans: "gi√° th·∫•p h∆°n", isCorrect: true },
            { text: "price tag", trans: "m√°c gi√°", isCorrect: false }
        ],
        explanation: { keyword: "'discount shops'", knowledge: "Logic", topic: "Gi√° c·∫£", features: "Discount shop th√¨ ƒë·∫∑c tr∆∞ng l√† gi√° r·∫ª h∆°n (lower price)." }
    },
    {
        question: `When shopping online, <span class="subj">people</span> <span class="verb">may</span> __________ <span class="key">too much money</span> without noticing.`,
        translation: `Khi mua s·∫Øm online, <span class="subj">m·ªçi ng∆∞·ªùi</span> <span class="verb">c√≥ th·ªÉ</span> <span class="verb">ti√™u</span> qu√° nhi·ªÅu ti·ªÅn m√† kh√¥ng ƒë·ªÉ √Ω.`,
        options: [
            { text: "spend", trans: "ti√™u", isCorrect: true },
            { text: "save", trans: "ti·∫øt ki·ªám", isCorrect: false },
            { text: "avoid", trans: "tr√°nh", isCorrect: false },
            { text: "return", trans: "tr·∫£ l·∫°i", isCorrect: false }
        ],
        explanation: { keyword: "'too much money'", knowledge: "Collocation", topic: "T√†i ch√≠nh", features: "ƒêi v·ªõi ti·ªÅn (money) l√† ƒë·ªông t·ª´ spend (ti√™u)." }
    },
    {
        question: `In <span class="subj">supermarkets</span>, <span class="subj">products</span> <span class="verb">are usually</span> __________ <span class="key">on shelves</span>.`,
        translation: `Trong <span class="subj">si√™u th·ªã</span>, <span class="subj">s·∫£n ph·∫©m</span> <span class="verb">th∆∞·ªùng ƒë∆∞·ª£c</span> <span class="key">tr∆∞ng b√†y</span> tr√™n k·ªá.`,
        options: [
            { text: "bargained", trans: "m·∫∑c c·∫£", isCorrect: false },
            { text: "displayed", trans: "tr∆∞ng b√†y", isCorrect: true },
            { text: "avoided", trans: "tr√°nh", isCorrect: false },
            { text: "ordered", trans: "ƒë·∫∑t h√†ng", isCorrect: false }
        ],
        explanation: { keyword: "'on shelves'", knowledge: "T·ª´ v·ª±ng", topic: "Tr∆∞ng b√†y", features: "L·∫∑p l·∫°i ki·∫øn th·ª©c: ƒê·∫∑t l√™n k·ªá l√† 'display'." }
    },
    {
        question: `<span class="subj">Online shopping</span> <span class="verb">is not</span> <span class="key">always safe</span> because <span class="subj">customers</span> __________ <span class="verb">know</span> the seller well.`,
        translation: `<span class="subj">Mua s·∫Øm online</span> <span class="verb">kh√¥ng ph·∫£i</span> l√∫c n√†o c≈©ng an to√†n v√¨ <span class="subj">kh√°ch h√†ng</span> <span class="key">hi·∫øm khi</span> <span class="verb">bi·∫øt</span> r√µ ng∆∞·ªùi b√°n.`,
        options: [
            { text: "always", trans: "lu√¥n lu√¥n", isCorrect: false },
            { text: "usually", trans: "th∆∞·ªùng xuy√™n", isCorrect: false },
            { text: "sometimes", trans: "th·ªânh tho·∫£ng", isCorrect: false },
            { text: "rarely", trans: "hi·∫øm khi", isCorrect: true }
        ],
        explanation: { keyword: "'not always safe'", knowledge: "Tr·∫°ng t·ª´ t·∫ßn su·∫•t", topic: "R·ªßi ro", features: "V√¨ kh√¥ng g·∫∑p m·∫∑t n√™n 'hi·∫øm khi' (rarely) bi·∫øt r√µ ng∆∞·ªùi b√°n." }
    },
    {
        question: `<span class="subj">People</span> who <span class="verb">buy</span> things they don‚Äôt need and <span class="key">can‚Äôt stop shopping</span> <span class="verb">are called</span> __________.`,
        translation: `<span class="subj">Nh·ªØng ng∆∞·ªùi</span> <span class="verb">mua</span> nh·ªØng th·ª© kh√¥ng c·∫ßn v√† kh√¥ng th·ªÉ ng·ª´ng mua s·∫Øm <span class="verb">ƒë∆∞·ª£c g·ªçi l√†</span> <span class="key">ng∆∞·ªùi nghi·ªán mua s·∫Øm</span>.`,
        options: [
            { text: "customers", trans: "kh√°ch h√†ng", isCorrect: false },
            { text: "shopaholics", trans: "ng∆∞·ªùi nghi·ªán mua s·∫Øm", isCorrect: true },
            { text: "sellers", trans: "ng∆∞·ªùi b√°n", isCorrect: false },
            { text: "shoppers", trans: "ng∆∞·ªùi mua s·∫Øm", isCorrect: false }
        ],
        explanation: { keyword: "'can‚Äôt stop shopping'", knowledge: "ƒê·ªãnh nghƒ©a", topic: "Shopaholic", features: "Kh√¥ng th·ªÉ ng·ª´ng mua = Nghi·ªán (Shopaholic)." }
    },
    {
        question: `With <span class="key">internet access</span>, <span class="subj">people</span> <span class="verb">can shop</span> __________, even <span class="key">late at night</span>.`,
        translation: `V·ªõi <span class="key">k·∫øt n·ªëi internet</span>, <span class="subj">m·ªçi ng∆∞·ªùi</span> <span class="verb">c√≥ th·ªÉ mua s·∫Øm</span> <span class="key">b·∫•t c·ª© l√∫c n√†o</span>, th·∫≠m ch√≠ ƒë√™m mu·ªôn.`,
        options: [
            { text: "rarely", trans: "hi·∫øm khi", isCorrect: false },
            { text: "never", trans: "kh√¥ng bao gi·ªù", isCorrect: false },
            { text: "anytime", trans: "b·∫•t c·ª© l√∫c n√†o", isCorrect: true },
            { text: "offline", trans: "ngo·∫°i tuy·∫øn", isCorrect: false }
        ],
        explanation: { keyword: "'late at night'", knowledge: "T·ª´ v·ª±ng", topic: "S·ª± ti·ªán l·ª£i", features: "Late at night g·ª£i √Ω v·ªÅ th·ªùi gian -> Anytime." }
    }
    ];

    // --- LOGIC X·ª¨ L√ù ·ª®NG D·ª§NG (GI·ªÆ NGUY√äN) ---
    let currentQuestionIndex = 0;
    let score = 0;
    let isAnswered = false;

    // DOM Elements
    const uiBox = document.getElementById('quiz-ui');
    const resultScreen = document.getElementById('result-screen');
    const qTextBox = document.getElementById('q-text');
    const qTransBox = document.getElementById('q-trans');
    const optionsContainer = document.getElementById('options-container');
    const actionArea = document.getElementById('action-area');
    const explainBox = document.getElementById('explanation-box');
    const progressText = document.getElementById('progress-text');
    const scoreText = document.getElementById('score-text');
    const questionBox = document.getElementById('question-box');
    const nextBtn = document.getElementById('next-btn');

    function initQuiz() {
        currentQuestionIndex = 0;
        score = 0;
        isAnswered = false;
        uiBox.style.display = 'block';
        resultScreen.style.display = 'none';
        updateScoreDisplay();
        renderQuestion();
    }

    function renderQuestion() {
        const data = quizData[currentQuestionIndex];
        
        // Reset UI States
        isAnswered = false;
        questionBox.className = "question-box"; // Remove hint/answered classes
        actionArea.classList.remove('visible');
        explainBox.style.display = 'none';
        qTransBox.style.display = 'none';
        qTransBox.innerHTML = data.translation;
        nextBtn.style.display = 'none';

        // Render Question Text
        qTextBox.innerHTML = `C√¢u ${currentQuestionIndex + 1}: ${data.question}`;
        progressText.innerText = `C√¢u ${currentQuestionIndex + 1}/${quizData.length}`;

        // Render Options
        optionsContainer.innerHTML = '';
        data.options.forEach((opt, index) => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.onclick = () => checkAnswer(index, btn);
            
            btn.innerHTML = `
                <span class="option-content"><strong>${String.fromCharCode(65 + index)}.</strong> ${opt.text}</span>
                <div class="option-trans">${opt.trans}</div>
            `;
            optionsContainer.appendChild(btn);
        });
    }

    function toggleHint() {
        questionBox.classList.add('show-hint');
    }

    function checkAnswer(selectedIndex, btnElement) {
        if (isAnswered) return;
        isAnswered = true;

        const data = quizData[currentQuestionIndex];
        const isCorrect = data.options[selectedIndex].isCorrect;

        // Auto highlight keywords
        questionBox.classList.add('answered');

        // Disable all buttons
        const allBtns = document.querySelectorAll('.option-btn');
        allBtns.forEach((b, idx) => {
            b.disabled = true;
            if (data.options[idx].isCorrect) {
                b.classList.add('correct');
            }
        });

        // Handle user selection
        if (isCorrect) {
            score++;
            updateScoreDisplay();
        } else {
            btnElement.classList.add('wrong');
        }

        // Show Actions
        actionArea.classList.add('visible');

        // Update Next Button Text
        if (currentQuestionIndex < quizData.length - 1) {
            nextBtn.innerText = "C√¢u ti·∫øp theo ‚ûú";
        } else {
            nextBtn.innerText = "Xem k·∫øt qu·∫£";
        }
        nextBtn.style.display = "inline-block";
    }

    function showExplanation() {
        const data = quizData[currentQuestionIndex].explanation;
        explainBox.innerHTML = `
            <div class="explain-row"><span class="explain-label">Keyword:</span> ${data.keyword}</div>
            <div class="explain-row"><span class="explain-label">Ki·∫øn th·ª©c:</span> ${data.knowledge}</div>
            <div class="explain-row"><span class="explain-label">Ch·ªß ƒë·ªÅ:</span> ${data.topic}</div>
            <div class="explain-row"><span class="explain-label">ƒê·∫∑c tr∆∞ng:</span> ${data.features}</div>
        `;
        explainBox.style.display = 'block';
    }

    function toggleTranslation() {
        const isHidden = qTransBox.style.display === 'none';
        
        // 1. Toggle hi·ªÉn th·ªã h·ªôp d·ªãch
        qTransBox.style.display = isHidden ? 'block' : 'none';

        // 2. Toggle class ƒë·∫∑c bi·ªát ƒë·ªÉ k√≠ch ho·∫°t m√†u S/V
        if (isHidden) {
            questionBox.classList.add('show-grammar');
        } else {
            questionBox.classList.remove('show-grammar');
        }

        // 3. Toggle hi·ªÉn th·ªã d·ªãch t·ª´ng ƒë√°p √°n
        const optTransElements = document.querySelectorAll('.option-trans');
        optTransElements.forEach(el => {
            el.style.display = isHidden ? 'block' : 'none';
        });
    }

    function updateScoreDisplay() {
        // Tr√°nh chia cho 0 n·∫øu danh s√°ch r·ªóng (d√π tr∆∞·ªùng h·ª£p n√†y c√≥ 1 c√¢u)
        const total = quizData.length || 1; 
        const scoreOn10 = ((score / total) * 10).toFixed(1);
        const displayScore = scoreOn10.endsWith('.0') ? scoreOn10.slice(0, -2) : scoreOn10;
        scoreText.innerText = `ƒêi·ªÉm: ${displayScore}`;
    }

    function nextQuestion() {
        if (currentQuestionIndex < quizData.length - 1) {
            currentQuestionIndex++;
            renderQuestion();
        } else {
            showResult();
        }
    }

    function showResult() {
        uiBox.style.display = 'none';
        resultScreen.style.display = 'block';
        
        const total = quizData.length || 1;
        const scoreOn10 = ((score / total) * 10).toFixed(1);
        const finalDisplayScore = scoreOn10.endsWith('.0') ? scoreOn10.slice(0, -2) : scoreOn10;

        document.getElementById('final-score').innerText = `${finalDisplayScore}/10`;
        document.getElementById('final-stats').innerText = `B·∫°n ƒë√£ tr·∫£ l·ªùi ƒë√∫ng ${score}/${total} c√¢u`;
    }

    function restartQuiz() {
        initQuiz();
    }

    // Start App
    initQuiz();

</script>

</body>
</html>