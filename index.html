<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luy·ªán Thi Ti·∫øng Anh: Environment & Grammar</title>
    <style>
        :root {
            --color-correct: Seagreen;
            --color-wrong: Crimson;
            --color-highlight-bg: Salmon;
            --color-highlight-text: white;
            --color-text: #333;
            --bg-body: #f4f4f9;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-body);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 10px;
        }

        .quiz-container {
            background: white;
            width: 100%;
            max-width: 700px;
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            overflow: hidden;
            padding: 25px;
            position: relative;
        }

        /* --- Quiz Content Area --- */
        #quiz-content {
            display: block;
        }

        /* Header & Controls */
        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
        }

        .btn-hint {
            background-color: #FFB347; 
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            transition: 0.2s;
        }
        .btn-hint:hover { filter: brightness(0.9); }
        .btn-hint:disabled { opacity: 0.6; cursor: not-allowed; }

        /* Question Section */
        .question-box {
            font-size: 1.25rem;
            color: var(--color-text);
            margin-bottom: 25px;
            line-height: 1.6;
            font-weight: bold;
        }

        /* --- S·ª¨A L·ªñI HI·ªÇN TH·ªä KEYWORD T·∫†I ƒê√ÇY --- */
        .key {
            /* M·∫∑c ƒë·ªãnh: Kh√¥ng m√†u, kh√¥ng vi·ªÅn, kh√¥ng padding */
            background-color: transparent;
            color: inherit;
            padding: 0;
            border: none; 
            border-radius: 4px;
            transition: all 0.3s ease;
        }
        
        .key.active {
            /* Khi k√≠ch ho·∫°t: M·ªõi hi·ªán m√†u n·ªÅn v√† ch·ªØ tr·∫Øng */
            background-color: var(--color-highlight-bg);
            color: var(--color-highlight-text);
            padding: 2px 6px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        /* ------------------------------------------- */

        /* Options Grid */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 25px;
        }

        .option-btn {
            background: #fff;
            border: 2px solid #e0e0e0;
            padding: 12px;
            border-radius: 8px;
            font-size: 1.05rem;
            cursor: pointer;
            transition: all 0.2s;
            text-align: left;
            font-weight: normal; 
            color: #555;
            display: flex;
            align-items: center;
        }

        .option-btn:hover:not(:disabled) {
            border-color: #aaa;
            background-color: #f9f9f9;
        }

        /* States */
        .option-btn.correct {
            background-color: var(--color-correct) !important;
            color: white !important;
            border-color: var(--color-correct) !important;
            font-weight: bold !important;
        }

        .option-btn.wrong {
            background-color: var(--color-wrong) !important;
            color: white !important;
            border-color: var(--color-wrong) !important;
        }
        
        .option-btn:disabled { cursor: default; }

        /* Post-Answer Actions */
        .action-area {
            display: none;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .btn-action {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 6px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }

        .btn-explain { background-color: var(--color-correct); }
        .btn-translate { background-color: var(--color-wrong); }

        /* Content Boxes */
        .content-box {
            display: none;
            background: #f8f9fa;
            border-left: 5px solid #ccc;
            padding: 15px;
            margin-top: 10px;
            border-radius: 0 8px 8px 0;
            animation: slideDown 0.3s ease;
        }
        .content-box.show { display: block; }
        .box-explain { border-color: var(--color-correct); }
        .box-translate { border-color: var(--color-wrong); }

        .info-row { margin-bottom: 8px; font-size: 0.95rem; }
        .info-label { font-weight: bold; display: inline-block; width: 100px; color: #444; }

        /* Navigation */
        .nav-controls { margin-top: 20px; text-align: right; }
        .btn-next {
            background-color: #333;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            display: none; 
            font-size: 1rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .btn-next:hover { background-color: #555; }

        /* --- Result Screen --- */
        #result-screen {
            display: none;
            text-align: center;
            padding: 20px;
            animation: fadeIn 0.5s;
        }
        
        .result-title {
            font-size: 1.8rem;
            color: #333;
            margin-bottom: 30px;
        }

        .score-box {
            background: #fff;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            border: 2px solid #eee;
            box-shadow: 0 10px 25px rgba(0,0,0,0.05);
        }

        .score-big {
            font-size: 4rem;
            font-weight: bold;
            color: var(--color-correct);
            display: block;
            margin-bottom: 10px;
        }

        .score-detail { font-size: 1.2rem; color: #666; margin: 5px 0; }

        .btn-restart {
            background-color: var(--color-correct);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 30px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(46, 139, 87, 0.4);
            transition: transform 0.2s;
        }
        .btn-restart:hover { transform: scale(1.05); }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @media (max-width: 600px) {
            .options-grid { grid-template-columns: 1fr; }
            .quiz-container { padding: 15px; }
            .question-box { font-size: 1.1rem; }
        }
    </style>
</head>
<body>

<div class="quiz-container">
    <div id="quiz-content">
        <div class="quiz-header">
            <span style="font-weight: bold; color: #666; font-size: 1.1rem;">C√¢u <span id="q-number" style="color: #000;">1</span>/<span id="total-q">45</span></span>
            <button class="btn-hint" id="btn-hint" onclick="toggleHint()">üí° G·ª£i √Ω</button>
        </div>

        <div class="question-box" id="question-text"></div>
        <div class="options-grid" id="options-area"></div>

        <div class="action-area" id="action-area">
            <button class="btn-action btn-explain" onclick="toggleExplanation()">üìñ Gi·∫£i th√≠ch</button>
            <button class="btn-action btn-translate" onclick="toggleTranslate()">üáªüá≥ D·ªãch nghƒ©a</button>
        </div>

        <div id="explanation-box" class="content-box box-explain"></div>
        <div id="translation-box" class="content-box box-translate">
            <div id="trans-content" style="font-style: italic; font-size: 1.1rem; color: #444;"></div>
        </div>

        <div class="nav-controls">
            <button class="btn-next" id="btn-next" onclick="nextQuestion()">C√¢u ti·∫øp theo ‚ûú</button>
        </div>
    </div>

    <div id="result-screen">
        <h2 class="result-title">üéâ K·∫øt Qu·∫£ B√†i Thi</h2>
        <div class="score-box">
            <span class="score-big" id="final-score-10">0.0</span>
            <p class="score-detail">ƒêi·ªÉm (Thang 10)</p>
            <div style="width: 50%; height: 2px; background: #eee; margin: 20px auto;"></div>
            <p class="score-detail">S·ªë c√¢u ƒë√∫ng: <b id="final-correct-count" style="color: seagreen;">0</b> / <span id="final-total-count">45</span></p>
        </div>
        <button class="btn-restart" onclick="restartQuiz()">üîÑ L√†m l·∫°i b√†i thi</button>
    </div>
</div>

<script>
    // --- D·ªÆ LI·ªÜU C√ÇU H·ªéI (45 C√ÇU) ---
    const quizData = [
    {
        id: 1,
        question: 'We should ______ our <span class="key">carbon footprint</span> to protect the environment.',
        options: ["A. pollute", "B. protect", "C. reduce", "D. endanger"],
        correctIndex: 2,
        translation: "Ch√∫ng ta n√™n gi·∫£m d·∫•u ch√¢n carbon c·ªßa m√¨nh ƒë·ªÉ b·∫£o v·ªá m√¥i tr∆∞·ªùng.",
        explanation: { keyword: "carbon footprint", knowledge: "T·ª´ v·ª±ng", topic: "M√¥i tr∆∞·ªùng", feature: "Collocation: reduce footprint" }
    },
    {
        id: 2,
        question: 'You should <span class="key">turn off</span> devices that you are not using to ______ <span class="key">electricity</span>.',
        options: ["A. save", "B. reuse", "C. release", "D. turn"],
        correctIndex: 0,
        translation: "B·∫°n n√™n t·∫Øt c√°c thi·∫øt b·ªã kh√¥ng s·ª≠ d·ª•ng ƒë·ªÉ ti·∫øt ki·ªám ƒëi·ªán.",
        explanation: { keyword: "turn off, electricity", knowledge: "T·ª´ v·ª±ng", topic: "Ti·∫øt ki·ªám nƒÉng l∆∞·ª£ng", feature: "save electricity (ti·∫øt ki·ªám ƒëi·ªán)" }
    },
    {
        id: 3,
        question: '"Carbon footprint" is the amount of <span class="key">carbon dioxide</span> that we ______ into the environment.',
        options: ["A. stop", "B. plant", "C. recycle", "D. release"],
        correctIndex: 3,
        translation: " 'D·∫•u ch√¢n carbon' l√† l∆∞·ª£ng kh√≠ CO2 m√† ch√∫ng ta th·∫£i ra m√¥i tr∆∞·ªùng.",
        explanation: { keyword: "carbon dioxide, into", knowledge: "T·ª´ v·ª±ng", topic: "√î nhi·ªÖm kh√¥ng kh√≠", feature: "release into (th·∫£i ra)" }
    },
    {
        id: 4,
        question: 'People <span class="key">shouldn\'t throw away</span> single-use products but ______ them.',
        options: ["A. endanger", "B. recycle", "C. protect", "D. pollute"],
        correctIndex: 1,
        translation: "M·ªçi ng∆∞·ªùi kh√¥ng n√™n v·ª©t b·ªè c√°c s·∫£n ph·∫©m d√πng m·ªôt l·∫ßn m√† h√£y t√°i ch·∫ø ch√∫ng.",
        explanation: { keyword: "shouldn't throw away", knowledge: "T·ª´ v·ª±ng", topic: "R√°c th·∫£i", feature: "recycle (t√°i ch·∫ø)" }
    },
    {
        id: 5,
        question: 'They can ______ <span class="key">campfires</span> on the beach near the hotel.',
        options: ["A. volunteer", "B. cut", "C. build", "D. litter"],
        correctIndex: 2,
        translation: "H·ªç c√≥ th·ªÉ ƒë·ªët l·ª≠a tr·∫°i tr√™n b√£i bi·ªÉn g·∫ßn kh√°ch s·∫°n.",
        explanation: { keyword: "campfires", knowledge: "T·ª´ v·ª±ng", topic: "Ho·∫°t ƒë·ªông d√£ ngo·∫°i", feature: "build a campfire (ƒë·ªët l·ª≠a tr·∫°i)" }
    },
    {
        id: 6,
        question: 'The people in my village often ______ <span class="key">down trees</span> to build houses.',
        options: ["A. cut", "B. pollute", "C. avoid", "D. release"],
        correctIndex: 0,
        translation: "Ng∆∞·ªùi d√¢n trong l√†ng t√¥i th∆∞·ªùng ch·∫∑t c√¢y ƒë·ªÉ l√†m nh√†.",
        explanation: { keyword: "down trees", knowledge: "C·ª•m ƒë·ªông t·ª´", topic: "M√¥i tr∆∞·ªùng", feature: "cut down (ch·∫∑t h·∫°)" }
    },
    {
        id: 7,
        question: 'You shouldn\'t dump the rubbish into the <span class="key">river</span> to reduce ________ <span class="key">pollution</span>.',
        options: ["A. air", "B. water", "C. carbon", "D. campfire"],
        correctIndex: 1,
        translation: "B·∫°n kh√¥ng n√™n ƒë·ªï r√°c xu·ªëng s√¥ng ƒë·ªÉ gi·∫£m thi·ªÉu √¥ nhi·ªÖm n∆∞·ªõc.",
        explanation: { keyword: "river, rubbish", knowledge: "T·ª´ v·ª±ng", topic: "C√°c lo·∫°i √¥ nhi·ªÖm", feature: "river -> water pollution" }
    },
    {
        id: 8,
        question: 'Forests help release oxygen and <span class="key">absorb</span> __________________',
        options: ["A. carbon dioxide", "B. global warming", "C. environmental protection", "D. water pollution"],
        correctIndex: 0,
        translation: "R·ª´ng gi√∫p th·∫£i ra oxy v√† h·∫•p th·ª• kh√≠ carbon dioxide.",
        explanation: { keyword: "absorb (h·∫•p th·ª•)", knowledge: "Ki·∫øn th·ª©c chung", topic: "Sinh h·ªçc/M√¥i tr∆∞·ªùng", feature: "absorb CO2" }
    },
    {
        id: 9,
        question: 'We can take part in activities like <span class="key">picking</span> ______ and planting trees to protect nature.',
        options: ["A. up", "B. about", "C. down", "D. to"],
        correctIndex: 0,
        translation: "Ch√∫ng ta c√≥ th·ªÉ tham gia c√°c ho·∫°t ƒë·ªông nh∆∞ nh·∫∑t r√°c v√† tr·ªìng c√¢y ƒë·ªÉ b·∫£o v·ªá thi√™n nhi√™n.",
        explanation: { keyword: "picking", knowledge: "C·ª•m ƒë·ªông t·ª´", topic: "Ho·∫°t ƒë·ªông t√¨nh nguy·ªán", feature: "pick up litter (nh·∫∑t r√°c)" }
    },
    {
        id: 10,
        question: 'A number of cleaning products contain ______ <span class="key">chemicals</span>.',
        options: ["A. safeful", "B. helpful", "C. harmful", "D. hopeful"],
        correctIndex: 2,
        translation: "M·ªôt s·ªë s·∫£n ph·∫©m t·∫©y r·ª≠a c√≥ ch·ª©a c√°c h√≥a ch·∫•t ƒë·ªôc h·∫°i.",
        explanation: { keyword: "chemicals", knowledge: "T√≠nh t·ª´", topic: "S·ª©c kh·ªèe/M√¥i tr∆∞·ªùng", feature: "harmful chemicals (h√≥a ch·∫•t ƒë·ªôc h·∫°i)" }
    },
    {
        id: 11,
        question: 'The gases from the <span class="key">exhausts of cars</span> have also increased ______ <span class="key">pollution</span> in most cities.',
        options: ["A. land", "B. sand", "C. water", "D. air"],
        correctIndex: 3,
        translation: "Kh√≠ th·∫£i t·ª´ xe √¥ t√¥ c≈©ng l√†m gia tƒÉng √¥ nhi·ªÖm kh√¥ng kh√≠ ·ªü h·∫ßu h·∫øt c√°c th√†nh ph·ªë.",
        explanation: { keyword: "exhausts of cars, gases", knowledge: "T·ª´ v·ª±ng", topic: "√î nhi·ªÖm", feature: "exhausts/gases -> air pollution" }
    },
    {
        id: 12,
        question: 'The <span class="key">death rate</span> would ______ if hygienic <span class="key">conditions were improved</span>.',
        options: ["A. decrease", "B. increase", "C. be", "D. up"],
        correctIndex: 0,
        translation: "T·ª∑ l·ªá t·ª≠ vong s·∫Ω gi·∫£m n·∫øu ƒëi·ªÅu ki·ªán v·ªá sinh ƒë∆∞·ª£c c·∫£i thi·ªán.",
        explanation: { keyword: "improved (t·ªët l√™n)", knowledge: "Logic/T·ª´ v·ª±ng", topic: "S·ª©c kh·ªèe", feature: "improved hygiene -> death rate decreases" }
    },
    {
        id: 13,
        question: 'When <span class="key">radiation</span> goes into the land, air or water, it is called <span class="key">radioactive</span> ______.',
        options: ["A. pollution", "B. polluted", "C. pollutants", "D. polluting"],
        correctIndex: 0,
        translation: "Khi ph√≥ng x·∫° ƒëi v√†o ƒë·∫•t, kh√¥ng kh√≠ ho·∫∑c n∆∞·ªõc, n√≥ ƒë∆∞·ª£c g·ªçi l√† √¥ nhi·ªÖm ph√≥ng x·∫°.",
        explanation: { keyword: "called (ƒë∆∞·ª£c g·ªçi l√†)", knowledge: "C·∫•u t·∫°o t·ª´", topic: "Danh t·ª´ gh√©p", feature: "radioactive pollution (Danh t·ª´)" }
    },
    {
        id: 14,
        question: 'Too much use of <span class="key">electric lights</span> in cities may ______ <span class="key">light pollution</span>.',
        options: ["A. go", "B. result", "C. cause", "D. lead"],
        correctIndex: 2,
        translation: "S·ª≠ d·ª•ng qu√° nhi·ªÅu ƒë√®n ƒëi·ªán ·ªü c√°c th√†nh ph·ªë c√≥ th·ªÉ g√¢y ra √¥ nhi·ªÖm √°nh s√°ng.",
        explanation: { keyword: "light pollution", knowledge: "Ng·ªØ ph√°p", topic: "ƒê·ªông t·ª´ nguy√™n nh√¢n", feature: "cause + Noun (g√¢y ra)" }
    },
    {
        id: 15,
        question: '______ pollution is the contamination of <span class="key">lakes, rivers, oceans, or groundwater</span>.',
        options: ["A. Soil", "B. Air", "C. Noise", "D. Water"],
        correctIndex: 3,
        translation: "√î nhi·ªÖm n∆∞·ªõc l√† s·ª± nhi·ªÖm b·∫©n c·ªßa h·ªì, s√¥ng, ƒë·∫°i d∆∞∆°ng ho·∫∑c n∆∞·ªõc ng·∫ßm.",
        explanation: { keyword: "lakes, rivers, oceans", knowledge: "T·ª´ v·ª±ng", topic: "ƒê·ªãnh nghƒ©a", feature: "Water pollution" }
    },
    {
        id: 16,
        question: '<span class="key">Land pollution</span> happens when human activities ______ the <span class="key">Earth\'s surface</span>.',
        options: ["A. cover", "B. destroy", "C. damages", "D. cause"],
        correctIndex: 1,
        translation: "√î nhi·ªÖm ƒë·∫•t x·∫£y ra khi c√°c ho·∫°t ƒë·ªông c·ªßa con ng∆∞·ªùi ph√° h·ªßy b·ªÅ m·∫∑t Tr√°i ƒë·∫•t.",
        explanation: { keyword: "Earth's surface", knowledge: "T·ª´ v·ª±ng", topic: "M√¥i tr∆∞·ªùng", feature: "destroy (ph√° hu·ª∑)" }
    },
    {
        id: 17,
        question: 'The <span class="key">sight</span> of too many telephone poles, billboards... may cause ______ <span class="key">pollution</span>.',
        options: ["A. visual", "B. vision", "C. visualize", "D. visible"],
        correctIndex: 0,
        translation: "Vi·ªác nh√¨n th·∫•y qu√° nhi·ªÅu c·ªôt ƒëi·ªán tho·∫°i, bi·ªÉn qu·∫£ng c√°o... c√≥ th·ªÉ g√¢y √¥ nhi·ªÖm t·∫ßm nh√¨n (m·ªπ quan).",
        explanation: { keyword: "sight, pollution", knowledge: "C·∫•u t·∫°o t·ª´", topic: "T√≠nh t·ª´", feature: "visual pollution (Adj + N)" }
    },
    {
        id: 18,
        question: 'People don\'t care much about the environment, so they <span class="key">keep</span> ______ it worse.',
        options: ["A. made", "B. making", "C. to make", "D. make"],
        correctIndex: 1,
        translation: "M·ªçi ng∆∞·ªùi kh√¥ng quan t√¢m nhi·ªÅu ƒë·∫øn m√¥i tr∆∞·ªùng, v√¨ v·∫≠y h·ªç c·ª© l√†m cho n√≥ t·ªìi t·ªá h∆°n.",
        explanation: { keyword: "keep", knowledge: "Ng·ªØ ph√°p", topic: "Danh ƒë·ªông t·ª´", feature: "keep + V_ing (ti·∫øp t·ª•c l√†m g√¨)" }
    },
    {
        id: 19,
        question: 'Land pollution is responsible for <span class="key">damage</span> done ______ natural habitat of animals.',
        options: ["A. with", "B. for", "C. to", "D. of"],
        correctIndex: 2,
        translation: "√î nhi·ªÖm ƒë·∫•t ch·ªãu tr√°ch nhi·ªám cho nh·ªØng thi·ªát h·∫°i g√¢y ra ƒë·ªëi v·ªõi m√¥i tr∆∞·ªùng s·ªëng t·ª± nhi√™n c·ªßa ƒë·ªông v·∫≠t.",
        explanation: { keyword: "damage", knowledge: "Gi·ªõi t·ª´", topic: "Collocation", feature: "damage + TO + something" }
    },
    {
        id: 20,
        question: 'Americans <span class="key">throw</span> ______ 28.5 million tons of plastic in landfills every year.',
        options: ["A. in", "B. at", "C. to", "D. away"],
        correctIndex: 3,
        translation: "Ng∆∞·ªùi M·ªπ v·ª©t b·ªè 28,5 tri·ªáu t·∫•n nh·ª±a v√†o c√°c b√£i ch√¥n l·∫•p m·ªói nƒÉm.",
        explanation: { keyword: "throw", knowledge: "C·ª•m ƒë·ªông t·ª´", topic: "R√°c th·∫£i", feature: "throw away (v·ª©t ƒëi)" }
    },
    {
        id: 21,
        question: 'Scientists have <span class="key">come up</span> ______ new ways of saving energy.',
        options: ["A. with", "B. on", "C. to", "D. out"],
        correctIndex: 0,
        translation: "C√°c nh√† khoa h·ªçc ƒë√£ nghƒ© ra nh·ªØng c√°ch m·ªõi ƒë·ªÉ ti·∫øt ki·ªám nƒÉng l∆∞·ª£ng.",
        explanation: { keyword: "come up", knowledge: "C·ª•m ƒë·ªông t·ª´", topic: "S√°ng ki·∫øn", feature: "come up with (n·∫£y ra √Ω t∆∞·ªüng)" }
    },
    {
        id: 22,
        question: 'Thousands of people were <span class="key">exposed</span> ______ radiation when the nuclear plant exploded.',
        options: ["A. in", "B. at", "C. to", "D. away"],
        correctIndex: 2,
        translation: "H√†ng ng√†n ng∆∞·ªùi ƒë√£ b·ªã ph∆°i nhi·ªÖm ph√≥ng x·∫° khi nh√† m√°y h·∫°t nh√¢n ph√°t n·ªï.",
        explanation: { keyword: "exposed", knowledge: "Gi·ªõi t·ª´", topic: "C·∫•u tr√∫c b·ªã ƒë·ªông", feature: "be exposed TO (ti·∫øp x√∫c/ph∆°i nhi·ªÖm v·ªõi)" }
    },
    {
        id: 23,
        question: 'Waste water is <span class="key">dumped</span> ______ water bodies directly cause water pollution.',
        options: ["A. on", "B. into", "C. out", "D. by"],
        correctIndex: 1,
        translation: "N∆∞·ªõc th·∫£i ƒë∆∞·ª£c ƒë·ªï tr·ª±c ti·∫øp v√†o c√°c ngu·ªìn n∆∞·ªõc g√¢y √¥ nhi·ªÖm n∆∞·ªõc.",
        explanation: { keyword: "dumped (ƒë·ªï)", knowledge: "Gi·ªõi t·ª´", topic: "H√†nh ƒë·ªông", feature: "dump INTO (ƒë·ªï v√†o trong)" }
    },
    {
        id: 24,
        question: '______ <span class="key">fumes</span> from these vehicles are serious air pollutants.',
        options: ["A. Poisonously", "B. Poison", "C. Poisonous", "D. Poisons"],
        correctIndex: 2,
        translation: "Kh√≠ th·∫£i ƒë·ªôc h·∫°i t·ª´ nh·ªØng chi·∫øc xe n√†y l√† ch·∫•t g√¢y √¥ nhi·ªÖm kh√¥ng kh√≠ nghi√™m tr·ªçng.",
        explanation: { keyword: "fumes (Noun)", knowledge: "C·∫•u t·∫°o t·ª´", topic: "T√≠nh t·ª´", feature: "Adj + Noun (Poisonous fumes)" }
    },
    {
        id: 25,
        question: 'Air pollution occurs when the atmosphere contains gases in ______ <span class="key">amounts</span>.',
        options: ["A. unharmed", "B. harmless", "C. harm", "D. harmful"],
        correctIndex: 3,
        translation: "√î nhi·ªÖm kh√¥ng kh√≠ x·∫£y ra khi kh√≠ quy·ªÉn ch·ª©a c√°c lo·∫°i kh√≠ v·ªõi l∆∞·ª£ng c√≥ h·∫°i.",
        explanation: { keyword: "amounts (Noun)", knowledge: "Ng·ªØ c·∫£nh/T·ª´ lo·∫°i", topic: "T√≠nh t·ª´", feature: "Harmful amounts (l∆∞·ª£ng c√≥ h·∫°i)" }
    },
    {
        id: 26,
        question: 'She <span class="key">suffered</span> ______ a serious disease because of drinking contaminated water.',
        options: ["A. in", "B. at", "C. to", "D. from"],
        correctIndex: 3,
        translation: "C√¥ ·∫•y m·∫Øc m·ªôt cƒÉn b·ªánh nghi√™m tr·ªçng do u·ªëng n∆∞·ªõc b·ªã √¥ nhi·ªÖm.",
        explanation: { keyword: "suffered", knowledge: "Gi·ªõi t·ª´", topic: "S·ª©c kh·ªèe", feature: "suffer FROM (ch·ªãu ƒë·ª±ng/m·∫Øc ph·∫£i)" }
    },
    {
        id: 27,
        question: 'We hope more people join our <span class="key">______ programme</span>.',
        options: ["A. environment", "B. environmental", "C. environmentalist", "D. environmentally"],
        correctIndex: 1,
        translation: "Ch√∫ng t√¥i hy v·ªçng s·∫Ω c√≥ nhi·ªÅu ng∆∞·ªùi tham gia ch∆∞∆°ng tr√¨nh m√¥i tr∆∞·ªùng c·ªßa ch√∫ng t√¥i.",
        explanation: { keyword: "programme (Noun)", knowledge: "C·∫•u t·∫°o t·ª´", topic: "T√≠nh t·ª´", feature: "Adj + Noun (Environmental programme)" }
    },
    {
        id: 28,
        question: 'Harmful gases are <span class="key">______</span> into the atmosphere during the burning of fossil fuels.',
        options: ["A. releases", "B. released", "C. release", "D. releasing"],
        correctIndex: 1,
        translation: "C√°c kh√≠ ƒë·ªôc h·∫°i ƒë∆∞·ª£c th·∫£i v√†o kh√≠ quy·ªÉn trong qu√° tr√¨nh ƒë·ªët nhi√™n li·ªáu h√≥a th·∫°ch.",
        explanation: { keyword: "are (to be)", knowledge: "Ng·ªØ ph√°p", topic: "C√¢u b·ªã ƒë·ªông", feature: "be + V(ed/bqt) (ƒë∆∞·ª£c th·∫£i ra)" }
    },
    {
        id: 29,
        question: 'The ______ <span class="key">of</span> air pollution are alarming.',
        options: ["A. effective", "B. affect", "C. effect", "D. effects"],
        correctIndex: 3,
        translation: "Nh·ªØng ·∫£nh h∆∞·ªüng c·ªßa √¥ nhi·ªÖm kh√¥ng kh√≠ r·∫•t ƒë√°ng b√°o ƒë·ªông.",
        explanation: { keyword: "The ... of, are (s·ªë nhi·ªÅu)", knowledge: "Ng·ªØ ph√°p", topic: "Danh t·ª´", feature: "The effects (Danh t·ª´ s·ªë nhi·ªÅu)" }
    },
    {
        id: 30,
        question: 'You should drive carefully <span class="key">______</span> the <span class="key">road is slippery</span>.',
        options: ["A. because", "B. while", "C. although", "D. after"],
        correctIndex: 0,
        translation: "B·∫°n n√™n l√°i xe c·∫©n th·∫≠n v√¨ ƒë∆∞·ªùng tr∆°n.",
        explanation: { keyword: "road is slippery", knowledge: "Li√™n t·ª´", topic: "M·ªánh ƒë·ªÅ nguy√™n nh√¢n", feature: "Because + Clause (ch·ªâ l√Ω do)" }
    },
    {
        id: 31,
        question: 'I sleep with the window open <span class="key">______</span> it\'s really cold.',
        options: ["A. if", "B. unless", "C. as", "D. before"],
        correctIndex: 1,
        translation: "T√¥i ng·ªß m·ªü c·ª≠a s·ªï tr·ª´ khi tr·ªùi th·ª±c s·ª± l·∫°nh.",
        explanation: { keyword: "sleep open, cold", knowledge: "Li√™n t·ª´", topic: "ƒêi·ªÅu ki·ªán", feature: "Unless = If not (Tr·ª´ khi)" }
    },
    {
        id: 32,
        question: 'We will clean up the beach <span class="key">______</span> it stops raining.',
        options: ["A. while", "B. though", "C. since", "D. as soon as"],
        correctIndex: 3,
        translation: "Ch√∫ng t√¥i s·∫Ω d·ªçn d·∫πp b√£i bi·ªÉn ngay khi tr·ªùi t·∫°nh m∆∞a.",
        explanation: { keyword: "will clean, stops", knowledge: "Li√™n t·ª´", topic: "M·ªánh ƒë·ªÅ th·ªùi gian", feature: "As soon as (Ngay khi)" }
    },
    {
        id: 33,
        question: 'Mary plays with the boy <span class="key">______</span> he is naughty.',
        options: ["A. although", "B. until", "C. when", "D. because"],
        correctIndex: 0,
        translation: "Mary ch∆°i v·ªõi c·∫≠u b√© m·∫∑c d√π c·∫≠u ·∫•y ngh·ªãch ng·ª£m.",
        explanation: { keyword: "plays, naughty", knowledge: "Li√™n t·ª´", topic: "M·ªánh ƒë·ªÅ nh∆∞·ª£ng b·ªô", feature: "Although (M·∫∑c d√π)" }
    },
    {
        id: 34,
        question: 'He won\'t get paid for time off <span class="key">______</span> he hasn\'t got a doctor\'s note.',
        options: ["A. unless", "B. till", "C. because", "D. if"],
        correctIndex: 2,
        translation: "Anh ·∫•y s·∫Ω kh√¥ng ƒë∆∞·ª£c tr·∫£ l∆∞∆°ng cho th·ªùi gian ngh·ªâ v√¨ anh ·∫•y kh√¥ng c√≥ gi·∫•y c·ªßa b√°c sƒ©.",
        explanation: { keyword: "won't get paid, hasn't got note", knowledge: "Li√™n t·ª´", topic: "Nguy√™n nh√¢n", feature: "Because (B·ªüi v√¨)" }
    },
    {
        id: 35,
        question: 'She went to the gym <span class="key">______</span> she had finished her work.',
        options: ["A. after", "B. before", "C. unless", "D. while"],
        correctIndex: 0,
        translation: "C√¥ ·∫•y ƒë√£ ƒëi ƒë·∫øn ph√≤ng t·∫≠p sau khi c√¥ ·∫•y ho√†n th√†nh c√¥ng vi·ªác.",
        explanation: { keyword: "had finished (QKHT)", knowledge: "S·ª± ph·ªëi th√¨", topic: "Qu√° kh·ª© ho√†n th√†nh", feature: "After + QKHT, QKƒê" }
    },
    {
        id: 36,
        question: 'Don\'t drink too much water <span class="key">______</span> you are having a meal.',
        options: ["A. till", "B. until", "C. while", "D. even though"],
        correctIndex: 2,
        translation: "ƒê·ª´ng u·ªëng qu√° nhi·ªÅu n∆∞·ªõc trong khi b·∫°n ƒëang ƒÉn.",
        explanation: { keyword: "having a meal", knowledge: "Li√™n t·ª´", topic: "Th·ªùi gian", feature: "While + V_ing/Clause (Trong khi)" }
    },
    {
        id: 37,
        question: 'Don\'t forget to turn off the lights <span class="key">______</span> you go out.',
        options: ["A. though", "B. because", "C. after", "D. before"],
        correctIndex: 3,
        translation: "ƒê·ª´ng qu√™n t·∫Øt ƒë√®n tr∆∞·ªõc khi b·∫°n ƒëi ra ngo√†i.",
        explanation: { keyword: "turn off, go out", knowledge: "Li√™n t·ª´", topic: "Tr√¨nh t·ª± th·ªùi gian", feature: "Before (Tr∆∞·ªõc khi)" }
    },
    {
        id: 38,
        question: 'I don\'t know the <span class="key">reason</span> ______ you didn‚Äôt go to school.',
        options: ["A. what", "B. whose", "C. why", "D. where"],
        correctIndex: 2,
        translation: "T√¥i kh√¥ng bi·∫øt l√Ω do t·∫°i sao b·∫°n kh√¥ng ƒëi h·ªçc.",
        explanation: { keyword: "the reason", knowledge: "Ng·ªØ ph√°p", topic: "M·ªánh ƒë·ªÅ quan h·ªá", feature: "Reason + WHY" }
    },
    {
        id: 39,
        question: 'He was talking about the <span class="key">film</span> ______ he saw last night.',
        options: ["A. that", "B. how", "C. who", "D. when"],
        correctIndex: 0,
        translation: "Anh ·∫•y ƒëang n√≥i v·ªÅ b·ªô phim m√† anh ·∫•y ƒë√£ xem t·ªëi qua.",
        explanation: { keyword: "film (v·∫≠t)", knowledge: "Ng·ªØ ph√°p", topic: "M·ªánh ƒë·ªÅ quan h·ªá", feature: "V·∫≠t + THAT/WHICH" }
    },
    {
        id: 40,
        question: '<span class="key">______</span> thermal pollution happens, the water temperature changes.',
        options: ["A. Until", "B. When", "C. Before", "D. As soon as"],
        correctIndex: 1,
        translation: "Khi √¥ nhi·ªÖm nhi·ªát x·∫£y ra, nhi·ªát ƒë·ªô n∆∞·ªõc thay ƒë·ªïi.",
        explanation: { keyword: "happens, changes", knowledge: "Li√™n t·ª´", topic: "M·ªánh ƒë·ªÅ th·ªùi gian", feature: "When (Khi m√†)" }
    },
    {
        id: 41,
        question: 'Noise pollution occurs <span class="key">______</span> there are too many loud sounds.',
        options: ["A. while", "B. and", "C. because", "D. so"],
        correctIndex: 2,
        translation: "√î nhi·ªÖm ti·∫øng ·ªìn x·∫£y ra b·ªüi v√¨ c√≥ qu√° nhi·ªÅu √¢m thanh l·ªõn.",
        explanation: { keyword: "occurs (x·∫£y ra), loud sounds", knowledge: "Li√™n t·ª´", topic: "Nguy√™n nh√¢n", feature: "Because (B·ªüi v√¨)" }
    },
    {
        id: 42,
        question: 'The roads were slippery <span class="key">______</span> it started to rain.',
        options: ["A. so", "B. as soon as", "C. when", "D. before"],
        correctIndex: 2, // Or as soon as, but When is safer for generic context
        translation: "ƒê∆∞·ªùng tr∆°n khi tr·ªùi b·∫Øt ƒë·∫ßu m∆∞a.",
        explanation: { keyword: "slippery, rain", knowledge: "Li√™n t·ª´", topic: "Th·ªùi gian", feature: "When (Khi)" }
    },
    {
        id: 43,
        question: 'Renewable <span class="key">______</span> of energy, such as solar and wind power, are crucial.',
        options: ["A. sources", "B. pollutions", "C. consumption", "D. permission"],
        correctIndex: 0,
        translation: "C√°c ngu·ªìn nƒÉng l∆∞·ª£ng t√°i t·∫°o, nh∆∞ ƒëi·ªán m·∫∑t tr·ªùi v√† gi√≥, r·∫•t quan tr·ªçng.",
        explanation: { keyword: "renewable", knowledge: "Collocation", topic: "NƒÉng l∆∞·ª£ng", feature: "Renewable sources (Ngu·ªìn t√°i t·∫°o)" }
    },
    {
        id: 44,
        question: 'We should be mindful of our <span class="key">carbon ______</span> and seek ways to reduce it.',
        options: ["A. handprint", "B. printer", "C. fingerprint", "D. footprint"],
        correctIndex: 3,
        translation: "Ch√∫ng ta n√™n l∆∞u √Ω v·ªÅ d·∫•u ch√¢n carbon c·ªßa m√¨nh v√† t√¨m c√°ch gi·∫£m thi·ªÉu n√≥.",
        explanation: { keyword: "carbon", knowledge: "T·ª´ v·ª±ng", topic: "M√¥i tr∆∞·ªùng", feature: "Carbon footprint (D·∫•u ch√¢n carbon)" }
    },
    {
        id: 45,
        question: 'The loss of habitat contributes to the <span class="key">______</span> of species.',
        options: ["A. extinct", "B. exit", "C. extinction", "D. extincted"],
        correctIndex: 2,
        translation: "Vi·ªác m·∫•t m√¥i tr∆∞·ªùng s·ªëng g√≥p ph·∫ßn v√†o s·ª± tuy·ªát ch·ªßng c·ªßa c√°c lo√†i.",
        explanation: { keyword: "the ... of", knowledge: "C·∫•u t·∫°o t·ª´", topic: "Danh t·ª´", feature: "The + Noun + of (Extinction)" }
    }
    ];

    // State variables
    let currentQIndex = 0;
    let isAnswered = false;
    let scoreCount = 0; 

    // DOM Elements
    const quizContentEl = document.getElementById('quiz-content');
    const resultScreenEl = document.getElementById('result-screen');
    const qNumberEl = document.getElementById('q-number');
    const totalQEl = document.getElementById('total-q');
    const questionTextEl = document.getElementById('question-text');
    const optionsAreaEl = document.getElementById('options-area');
    const actionAreaEl = document.getElementById('action-area');
    const explainBoxEl = document.getElementById('explanation-box');
    const transBoxEl = document.getElementById('translation-box');
    const transContentEl = document.getElementById('trans-content');
    const btnNextEl = document.getElementById('btn-next');
    const btnHintEl = document.getElementById('btn-hint');

    const finalScore10El = document.getElementById('final-score-10');
    const finalCorrectCountEl = document.getElementById('final-correct-count');
    const finalTotalCountEl = document.getElementById('final-total-count');

    // Init
    totalQEl.textContent = quizData.length;
    loadQuestion();

    function loadQuestion() {
        isAnswered = false;
        const data = quizData[currentQIndex];
        
        qNumberEl.textContent = currentQIndex + 1;
        questionTextEl.innerHTML = data.question;
        optionsAreaEl.innerHTML = '';
        
        actionAreaEl.style.display = 'none';
        explainBoxEl.classList.remove('show');
        transBoxEl.classList.remove('show');
        btnNextEl.style.display = 'none';
        btnHintEl.disabled = false;

        data.options.forEach((opt, index) => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.textContent = opt;
            btn.onclick = () => checkAnswer(index, btn);
            optionsAreaEl.appendChild(btn);
        });
    }

    function toggleHint() {
        if(isAnswered) return;
        const keys = document.querySelectorAll('.key');
        keys.forEach(k => k.classList.add('active'));
    }

    function checkAnswer(selectedIndex, btnElement) {
        if (isAnswered) return;
        isAnswered = true;
        btnHintEl.disabled = true;

        const data = quizData[currentQIndex];
        
        const keys = document.querySelectorAll('.key');
        keys.forEach(k => k.classList.add('active'));

        const allBtns = document.querySelectorAll('.option-btn');
        
        if (selectedIndex === data.correctIndex) {
            btnElement.classList.add('correct');
            scoreCount++; 
        } else {
            btnElement.classList.add('wrong');
            allBtns[data.correctIndex].classList.add('correct');
        }

        allBtns.forEach(b => b.disabled = true);

        transContentEl.textContent = data.translation;
        explainBoxEl.innerHTML = `
            <div class="info-row"><span class="info-label">Keyword:</span> ${data.explanation.keyword}</div>
            <div class="info-row"><span class="info-label">Ki·∫øn th·ª©c:</span> ${data.explanation.knowledge}</div>
            <div class="info-row"><span class="info-label">Ch·ªß ƒë·ªÅ:</span> ${data.explanation.topic}</div>
            <div class="info-row"><span class="info-label">ƒê·∫∑c tr∆∞ng:</span> <span style="color:#d63031; font-weight:bold;">${data.explanation.feature}</span></div>
        `;

        actionAreaEl.style.display = 'flex';
        
        btnNextEl.style.display = 'inline-block';
        if (currentQIndex === quizData.length - 1) {
            btnNextEl.textContent = "Xem k·∫øt qu·∫£ ‚ûú";
            btnNextEl.onclick = showResult;
        } else {
            btnNextEl.textContent = "C√¢u ti·∫øp theo ‚ûú";
            btnNextEl.onclick = nextQuestion;
        }
    }

    function toggleExplanation() {
        explainBoxEl.classList.toggle('show');
        if(explainBoxEl.classList.contains('show')) transBoxEl.classList.remove('show');
    }

    function toggleTranslate() {
        transBoxEl.classList.toggle('show');
        if(transBoxEl.classList.contains('show')) explainBoxEl.classList.remove('show');
    }

    function nextQuestion() {
        currentQIndex++;
        loadQuestion();
    }

    function showResult() {
        quizContentEl.style.display = 'none';
        resultScreenEl.style.display = 'block';

        const total = quizData.length;
        const score10 = (scoreCount / total) * 10;
        
        finalCorrectCountEl.textContent = scoreCount;
        finalTotalCountEl.textContent = total;
        finalScore10El.textContent = score10 % 1 === 0 ? score10 : score10.toFixed(1);
    }

    function restartQuiz() {
        currentQIndex = 0;
        scoreCount = 0;
        resultScreenEl.style.display = 'none';
        quizContentEl.style.display = 'block';
        loadQuestion();
    }
</script>

</body>
</html>