<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>B√†i t·∫≠p Ti·∫øng Anh: Question 91-140</title>
    <style>
        :root {
            --primary-blue: #e8f0fe;
            --dark-blue: #1a73e8;
            --border-color: #dadce0;
            --correct-green: #1e8e3e;
            --wrong-red: #d93025;
            --trans-color: #5f6368;
            --hint-bg: #fff8e1;
            --hint-text: #f57f17;
        }

        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background-color: #f8f9fa;
            margin: 0;
            display: flex;
            flex-direction: column;
            height: auto;
            overflow: auto; 
        }

        /* === HEADER === */
        .header {
            background: white;
            padding: 10px 20px;
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 101;
            flex-shrink: 0;
        }

        .header-top {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 1.5em;
            cursor: pointer;
            color: #5f6368;
            padding: 5px;
        }

        .header-title {
            margin: 0;
            font-size: 1.2em;
            color: #202124;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .progress-container {
            width: 100%;
            height: 6px;
            background-color: #eee;
            border-radius: 4px;
            margin-top: 10px;
        }

        #progress-bar {
            width: 0%;
            height: 100%;
            background-color: var(--dark-blue);
            border-radius: 4px;
            transition: width 0.4s ease;
        }

        /* === MAIN LAYOUT === */
        .main-container {
            display: flex;
            flex: 1;
            padding: 20px;
            gap: 25px;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
            box-sizing: border-box;
            overflow: visible;
        }

        /* === SIDEBAR === */
        .sidebar {
            width: 280px;
            background: white;
            padding: 20px;
            border-radius: 12px;
            border: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            height: calc(100vh - 100px);
            overflow-y: auto;
            flex-shrink: 0;
            transition: transform 0.3s ease;
            position: sticky;
            top: 80px;
            z-index: 1000;
        }

        .sidebar-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 999;
        }

        .stats-box {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border: 1px solid #eee;
        }
        
        .stat-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 0.95em;
            color: #333;
        }
        
        .stat-value {
            font-weight: bold;
            color: var(--dark-blue);
        }

        .nav-container {
            flex: 1;
            overflow-y: auto;
            margin-bottom: 20px;
        }

        .question-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 8px;
        }

        .q-num {
            aspect-ratio: 1;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 0.9em;
            background: #fff;
        }

        .q-num.done-correct { background-color: #e6f4ea; border-color: var(--correct-green); color: var(--correct-green); font-weight: bold; }
        .q-num.done-wrong { background-color: #fce8e6; border-color: var(--wrong-red); color: var(--wrong-red); font-weight: bold; }

        .btn-submit {
            width: 100%;
            padding: 12px;
            background-color: var(--dark-blue);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1em;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        /* === QUIZ AREA === */
        .quiz-area {
            flex: 1;
            padding-bottom: 20px;
        }

        .question-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            border: 1px solid var(--border-color);
            margin-bottom: 20px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
        }

        .question-text {
            font-size: 1.1em;
            font-weight: 600;
            margin-bottom: 12px;
            line-height: 1.5;
            color: #202124;
        }

        .btn-hint-toggle {
            align-self: flex-start;
            background-color: white;
            border: 1px solid #ffb74d;
            color: #f57f17;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            margin-bottom: 15px;
        }

        .hint-content {
            display: none;
            background-color: #fff3e0;
            border-left: 4px solid #ffb74d;
            padding: 10px 15px;
            margin-bottom: 15px;
            border-radius: 4px;
            font-size: 0.95em;
            color: #e65100;
        }
        .hint-content.show { display: block; animation: fadeIn 0.3s; }

        .options-list {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .option-btn {
            padding: 14px 16px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background: white;
            text-align: left;
            cursor: pointer;
            font-size: 1em;
            display: flex;
            flex-direction: column;
            line-height: 1.4;
            transition: background-color 0.2s;
        }

        .option-btn:active { background-color: #f1f3f4; }
        .option-btn.disabled { cursor: default; opacity: 0.9; }
        .option-btn.correct { background-color: #e6f4ea; border-color: var(--correct-green); color: var(--correct-green); }
        .option-btn.wrong { background-color: #fce8e6; border-color: var(--wrong-red); color: var(--wrong-red); }

        .btn-trans-toggle {
            margin-top: 20px;
            align-self: flex-start;
            background: #f1f3f4;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            color: #555;
            display: flex;
            align-items: center;
            gap: 6px;
            font-weight: 500;
        }
        .btn-trans-toggle:disabled { opacity: 0.5; background-color: #eee; }

        .trans-text {
            display: none;
            color: var(--trans-color);
            font-style: italic;
            font-size: 0.95em;
            margin-top: 5px;
            font-weight: normal;
            border-top: 1px dashed #eee;
            padding-top: 4px;
        }
        .trans-text.show { display: block; animation: fadeIn 0.3s; }

        .explanation-box {
            margin-top: 15px;
            padding: 15px;
            border-radius: 6px;
            background-color: #fffde7;
            border-left: 4px solid #fbc02d;
            display: none;
            font-size: 0.95em;
        }

        /* === MODAL === */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
        }
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 16px;
            width: 100%;
            max-width: 400px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            animation: zoomIn 0.3s;
        }
        .modal-score { font-size: 3.5em; font-weight: bold; color: var(--dark-blue); margin: 10px 0; }
        .modal-details { margin: 20px 0; background: #f8f9fa; padding: 15px; border-radius: 8px; }
        .modal-btn { padding: 12px 30px; background: var(--dark-blue); color: white; border: none; border-radius: 8px; font-size: 1.1em; cursor: pointer; width: 100%; }

        /* === RESPONSIVE FIXES === */
        @media (max-width: 768px) {
            .menu-toggle { display: block; }
            .main-container { padding: 10px; display: block; height: auto; overflow: visible; }
            .sidebar { position: fixed; top: 0; left: 0; width: 80%; max-width: 300px; height: 100%; margin: 0; border-radius: 0; border: none; transform: translateX(-100%); box-shadow: 2px 0 10px rgba(0,0,0,0.2); }
            .sidebar.active { transform: translateX(0); }
            .sidebar-overlay.active { display: block; }
            .quiz-area { padding: 0; height: auto; overflow: visible; margin-bottom: 50px; }
            .question-card { padding: 15px; margin-bottom: 15px; }
            .options-list { grid-template-columns: 1fr; }
            .header-title { font-size: 1em; }
        }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes zoomIn { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
    </style>
</head>
<body>

    <div class="header">
        <div class="header-top">
            <button class="menu-toggle" onclick="toggleSidebar()">‚ò∞</button>
            <h2 class="header-title">B√†i t·∫≠p Ti·∫øng Anh: Question 91-140</h2>
        </div>
        <div class="progress-container">
            <div id="progress-bar"></div>
        </div>
    </div>

    <div class="main-container">
        <div class="sidebar-overlay" id="sidebar-overlay" onclick="toggleSidebar()"></div>

        <div class="sidebar" id="sidebar">
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <h3 style="margin:0 0 10px 0; color:#444">Th·ªëng k√™</h3>
                <span onclick="toggleSidebar()" style="cursor:pointer; font-size:1.5em; color:#888; padding: 5px;" class="mobile-only">‚úï</span>
            </div>
            
            <div class="stats-box">
                <div class="stat-item">
                    <span>S·ªë c√¢u ƒë√∫ng:</span>
                    <span class="stat-value"><span id="stat-correct">0</span>/<span id="stat-total">50</span></span>
                </div>
                <div class="stat-item">
                    <span>ƒêi·ªÉm s·ªë:</span>
                    <span class="stat-value"><span id="stat-score">0.0</span>/10</span>
                </div>
            </div>

            <div class="nav-container">
                <h4 style="margin:0 0 10px 0;">C√¢u h·ªèi</h4>
                <div class="question-grid" id="q-nav"></div>
            </div>

            <button class="btn-submit" onclick="submitQuiz()">N·ªôp b√†i</button>
        </div>

        <div class="quiz-area" id="quiz-container"></div>
    </div>

    <div class="modal-overlay" id="result-modal">
        <div class="modal-content">
            <h2 style="color: #444; margin-top:0">K·∫øt Qu·∫£</h2>
            <div>ƒêi·ªÉm s·ªë c·ªßa b·∫°n</div>
            <div class="modal-score" id="final-score">0.0</div>
            
            <div class="modal-details">
                <p>S·ªë c√¢u ƒë√∫ng: <b id="final-correct">0</b> / <span id="final-total">50</span></p>
                <p>X·∫øp lo·∫°i: <b id="final-rank" style="color: #e65100">---</b></p>
            </div>
            
            <button class="modal-btn" onclick="closeModal()">Xem l·∫°i b√†i</button>
        </div>
    </div>

    <script>
        const quizData = [
 { q: "There is too much water on the road. It is a __________.", qVi: "C√≥ qu√° nhi·ªÅu n∆∞·ªõc tr√™n ƒë∆∞·ªùng. ƒê√≥ l√† m·ªôt tr·∫≠n __________.", key: ["too much water", "road"], opts: ["fire", "flood", "wind", "drought"], optsVi: ["l·ª≠a/ch√°y", "l≈© l·ª•t", "gi√≥", "h·∫°n h√°n"], correct: 1, exp: "Nhi·ªÅu n∆∞·ªõc ng·∫≠p ƒë∆∞·ªùng l√† <b>flood</b> (l≈© l·ª•t)." },
            { q: "The ground is shaking! It is an __________.", qVi: "M·∫∑t ƒë·∫•t ƒëang rung chuy·ªÉn! ƒê√≥ l√† m·ªôt tr·∫≠n __________.", key: ["ground shaking"], opts: ["earthquake", "rain", "property", "whistle"], optsVi: ["ƒë·ªông ƒë·∫•t", "m∆∞a", "t√†i s·∫£n", "c√°i c√≤i"], correct: 0, exp: "M·∫∑t ƒë·∫•t rung l·∫Øc l√† <b>earthquake</b> (ƒë·ªông ƒë·∫•t)." },
            { q: "A __________ is a very big wave from the ocean.", qVi: "M·ªôt __________ l√† m·ªôt con s√≥ng r·∫•t l·ªõn t·ª´ ƒë·∫°i d∆∞∆°ng.", key: ["big wave", "ocean"], opts: ["mud", "wind", "tsunami", "fire"], optsVi: ["b√πn", "gi√≥", "s√≥ng th·∫ßn", "l·ª≠a"], correct: 2, exp: "S√≥ng l·ªõn t·ª´ ƒë·∫°i d∆∞∆°ng l√† <b>tsunami</b> (s√≥ng th·∫ßn)." },
            { q: "When there is an earthquake, you should __________ under a table.", qVi: "Khi c√≥ ƒë·ªông ƒë·∫•t, b·∫°n n√™n __________ d∆∞·ªõi g·∫ßm b√†n.", key: ["earthquake", "under table"], opts: ["hide", "destroy", "erupt", "predict"], optsVi: ["tr·ªën/n√∫p", "ph√° h·ªßy", "phun tr√†o", "d·ª± ƒëo√°n"], correct: 0, exp: "H√†nh ƒë·ªông an to√†n khi ƒë·ªông ƒë·∫•t l√† <b>hide</b> (tr·ªën) d∆∞·ªõi b√†n." },
            { q: "The __________ blows very strongly and breaks the trees.", qVi: "__________ th·ªïi r·∫•t m·∫°nh v√† l√†m g√£y c√¢y c·ªëi.", key: ["blows strongly", "breaks trees"], opts: ["rain", "mud", "wind", "rock"], optsVi: ["m∆∞a", "b√πn", "gi√≥", "ƒë√°"], correct: 2, exp: "Th·ªïi m·∫°nh (blows) l√† ƒë·∫∑c ƒëi·ªÉm c·ªßa <b>wind</b> (gi√≥)." },
            { q: "A __________ helps people who are in danger.", qVi: "M·ªôt __________ gi√∫p ƒë·ª° nh·ªØng ng∆∞·ªùi ƒëang g·∫∑p nguy hi·ªÉm.", key: ["helps people", "in danger"], opts: ["victim", "rescue worker", "storm", "property"], optsVi: ["n·∫°n nh√¢n", "nh√¢n vi√™n c·ª©u h·ªô", "c∆°n b√£o", "t√†i s·∫£n"], correct: 1, exp: "Ng∆∞·ªùi c·ª©u gi√∫p ng∆∞·ªùi kh√°c l√† <b>rescue worker</b>." },
            { q: "It is very __________ to go out in a big storm.", qVi: "R·∫•t __________ khi ƒëi ra ngo√†i trong m·ªôt c∆°n b√£o l·ªõn.", key: ["go out", "big storm"], opts: ["safe", "happy", "nice", "dangerous"], optsVi: ["an to√†n", "vui v·∫ª", "t·ªët ƒë·∫πp", "nguy hi·ªÉm"], correct: 3, exp: "Ra ngo√†i khi b√£o th√¨ r·∫•t <b>dangerous</b> (nguy hi·ªÉm)." },
            { q: "Please stay inside your house to be __________.", qVi: "L√†m ∆°n ·ªü trong nh√† ƒë·ªÉ ƒë∆∞·ª£c __________.", key: ["stay inside", "purpose"], opts: ["safe", "missing", "violent", "awful"], optsVi: ["an to√†n", "m·∫•t t√≠ch", "b·∫°o l·ª±c/d·ªØ d·ªôi", "t·ªìi t·ªá"], correct: 0, exp: "·ªû trong nh√† ƒë·ªÉ gi·ªØ <b>safe</b> (an to√†n)." },
            { q: "A tornado looks like a giant __________ made of wind.", qVi: "M·ªôt c∆°n l·ªëc xo√°y tr√¥ng gi·ªëng nh∆∞ m·ªôt c√°i __________ kh·ªïng l·ªì l√†m b·∫±ng gi√≥.", key: ["tornado looks like", "shape"], opts: ["ball", "funnel", "box", "rock"], optsVi: ["qu·∫£ b√≥ng", "c√°i ph·ªÖu", "c√°i h·ªôp", "t·∫£ng ƒë√°"], correct: 1, exp: "L·ªëc xo√°y c√≥ h√¨nh d·∫°ng <b>funnel</b> (h√¨nh ph·ªÖu)." },
            { q: "Rocks and mud falling down a hill is called a __________.", qVi: "ƒê√° v√† b√πn r∆°i xu·ªëng ƒë·ªìi ƒë∆∞·ª£c g·ªçi l√† __________.", key: ["rocks and mud", "falling down hill"], opts: ["flood", "drought", "landslide", "thunder"], optsVi: ["l≈© l·ª•t", "h·∫°n h√°n", "s·∫°t l·ªü ƒë·∫•t", "s·∫•m s√©t"], correct: 2, exp: "ƒê·∫•t ƒë√° s·∫°t l·ªü xu·ªëng ƒë·ªìi l√† <b>landslide</b>." },
            { q: "The volcano can __________ hot ash and gas.", qVi: "N√∫i l·ª≠a c√≥ th·ªÉ __________ tro n√≥ng v√† kh√≠ gas.", key: ["volcano", "ash and gas"], opts: ["sleep", "erupt", "hide", "rescue"], optsVi: ["ng·ªß", "phun tr√†o", "tr·ªën", "gi·∫£i c·ª©u"], correct: 1, exp: "Ho·∫°t ƒë·ªông c·ªßa n√∫i l·ª≠a l√† <b>erupt</b> (phun tr√†o)." },
            { q: "The big fire can __________ the whole house.", qVi: "Ng·ªçn l·ª≠a l·ªõn c√≥ th·ªÉ __________ c·∫£ ng√¥i nh√†.", key: ["big fire", "house"], opts: ["build", "save", "destroy", "predict"], optsVi: ["x√¢y d·ª±ng", "c·ª©u", "ph√° h·ªßy/thi√™u r·ª•i", "d·ª± ƒëo√°n"], correct: 2, exp: "L·ª≠a l·ªõn s·∫Ω <b>destroy</b> (ph√° h·ªßy) ng√¥i nh√†." },
            { q: "I am very __________ of the loud thunder.", qVi: "T√¥i r·∫•t __________ ti·∫øng s·∫•m l·ªõn.", key: ["loud thunder", "feeling"], opts: ["happy", "afraid (fear)", "safe", "lucky"], optsVi: ["vui", "s·ª£ h√£i", "an to√†n", "may m·∫Øn"], correct: 1, exp: "C·∫£m gi√°c th∆∞·ªùng g·∫∑p v·ªõi ti·∫øng s·∫•m l√† <b>afraid</b> (s·ª£)." },
            { q: "We need food and water for our emergency __________.", qVi: "Ch√∫ng ta c·∫ßn th·ª©c ƒÉn v√† n∆∞·ªõc u·ªëng cho __________ kh·∫©n c·∫•p c·ªßa m√¨nh.", key: ["emergency", "food and water"], opts: ["kit", "worker", "rain", "wind"], optsVi: ["b·ªô d·ª•ng c·ª•/t√∫i ƒë·ªì", "c√¥ng nh√¢n", "m∆∞a", "gi√≥"], correct: 0, exp: "T√∫i ƒë·ªì kh·∫©n c·∫•p l√† emergency <b>kit</b>." },
            { q: "Dark clouds help us __________ that it will rain soon.", qVi: "M√¢y ƒëen gi√∫p ch√∫ng ta __________ r·∫±ng tr·ªùi s·∫Ω m∆∞a s·ªõm.", key: ["dark clouds", "rain soon"], opts: ["damage", "hurt", "destroy", "predict"], optsVi: ["l√†m h·∫°i", "l√†m ƒëau", "ph√° h·ªßy", "d·ª± ƒëo√°n"], correct: 3, exp: "Nh√¨n m√¢y ƒë·ªÉ <b>predict</b> (d·ª± ƒëo√°n) th·ªùi ti·∫øt." },
            { q: "A __________ is a person who is hurt or affected by the disaster.", qVi: "M·ªôt __________ l√† ng∆∞·ªùi b·ªã th∆∞∆°ng ho·∫∑c b·ªã ·∫£nh h∆∞·ªüng b·ªüi th·∫£m h·ªça.", key: ["person hurt", "disaster"], opts: ["rescue worker", "victim", "property", "tsunami"], optsVi: ["nh√¢n vi√™n c·ª©u h·ªô", "n·∫°n nh√¢n", "t√†i s·∫£n", "s√≥ng th·∫ßn"], correct: 1, exp: "Ng∆∞·ªùi b·ªã n·∫°n l√† <b>victim</b>." },
            { q: "The storm damaged his house and car. He lost much __________.", qVi: "C∆°n b√£o ƒë√£ l√†m h·ªèng nh√† v√† xe c·ªßa anh ·∫•y. Anh ·∫•y ƒë√£ m·∫•t nhi·ªÅu __________.", key: ["house and car", "lost"], opts: ["property", "wind", "rain", "gas"], optsVi: ["t√†i s·∫£n", "gi√≥", "m∆∞a", "kh√≠ gas"], correct: 0, exp: "Nh√† v√† xe ƒë∆∞·ª£c g·ªçi chung l√† <b>property</b> (t√†i s·∫£n)." },
            { q: "Don't __________ of the house when the wind is strong.", qVi: "ƒê·ª´ng __________ kh·ªèi nh√† khi gi√≥ m·∫°nh.", key: ["Don't", "house", "strong wind"], opts: ["run out", "hide", "sleep", "sit"], optsVi: ["ch·∫°y ra ngo√†i", "tr·ªën", "ng·ªß", "ng·ªìi"], correct: 0, exp: "L·ªùi khuy√™n an to√†n: Don't <b>run out</b> (kh√¥ng ch·∫°y ra ngo√†i)." },
            { q: "Use a __________ to make a loud sound for help.", qVi: "S·ª≠ d·ª•ng m·ªôt c√°i __________ ƒë·ªÉ t·∫°o ra √¢m thanh l·ªõn c·∫ßu c·ª©u.", key: ["loud sound", "for help"], opts: ["whistle", "rock", "table", "kit"], optsVi: ["c√°i c√≤i", "h√≤n ƒë√°", "c√°i b√†n", "b·ªô d·ª•ng c·ª•"], correct: 0, exp: "V·∫≠t d·ª•ng t·∫°o ti·∫øng to ƒë·ªÉ c·∫ßu c·ª©u l√† <b>whistle</b>." },
            { q: "The weather is __________. It is raining and windy all day.", qVi: "Th·ªùi ti·∫øt th·∫≠t __________. Tr·ªùi m∆∞a v√† gi√≥ c·∫£ ng√†y.", key: ["raining and windy", "bad"], opts: ["good", "awful", "sunny", "safe"], optsVi: ["t·ªët", "t·ªìi t·ªá/kh·ªßng khi·∫øp", "n·∫Øng", "an to√†n"], correct: 1, exp: "M∆∞a gi√≥ c·∫£ ng√†y l√† th·ªùi ti·∫øt <b>awful</b>." },
{ q: "A __________ is a scientist's statement about what will happen in the future, especially about the weather.", qVi: "M·ªôt __________ l√† tuy√™n b·ªë c·ªßa nh√† khoa h·ªçc v·ªÅ nh·ªØng g√¨ s·∫Ω x·∫£y ra trong t∆∞∆°ng lai, ƒë·∫∑c bi·ªát l√† v·ªÅ th·ªùi ti·∫øt.", key: ["scientist's statement", "future", "weather"], opts: ["damage", "predict", "property", "whistle"], optsVi: ["thi·ªát h·∫°i", "d·ª± ƒëo√°n (ƒë·ªông t·ª´)", "t√†i s·∫£n", "c√°i c√≤i"], correct: 1, exp: "Tuy√™n b·ªë v·ªÅ t∆∞∆°ng lai l√† s·ª± d·ª± ƒëo√°n. (L∆∞u √Ω: Danh t·ª´ ƒë√∫ng l√† 'prediction', nh∆∞ng trong b√†i ch·ªçn t·ª´ 'predict' theo ƒë·ªÅ)." },
            { q: "When a volcano is active, it starts to __________ hot ash and gas into the air.", qVi: "Khi n√∫i l·ª≠a ho·∫°t ƒë·ªông, n√≥ b·∫Øt ƒë·∫ßu __________ tro n√≥ng v√† kh√≠ v√†o kh√¥ng kh√≠.", key: ["volcano", "ash and gas"], opts: ["avoid", "hide", "erupt", "pull up"], optsVi: ["tr√°nh", "tr·ªën", "phun tr√†o", "k√©o l√™n"], correct: 2, exp: "N√∫i l·ª≠a phun tr√†o -> <b>erupt</b>." },
            { q: "During an earthquake, you should __________ to protect your head from falling objects.", qVi: "Trong tr·∫≠n ƒë·ªông ƒë·∫•t, b·∫°n n√™n __________ ƒë·ªÉ b·∫£o v·ªá ƒë·∫ßu kh·ªèi c√°c v·∫≠t r∆°i.", key: ["protect head", "earthquake"], opts: ["run out of", "look out of", "hide under the table", "pour out"], optsVi: ["ch·∫°y h·∫øt", "nh√¨n ra ngo√†i", "tr·ªën d∆∞·ªõi g·∫ßm b√†n", "ƒë·ªï ra"], correct: 2, exp: "H√†nh ƒë·ªông an to√†n: <b>hide under the table</b>." },
            { q: "After the storm, many people were reported __________ because their families could not find them.", qVi: "Sau c∆°n b√£o, nhi·ªÅu ng∆∞·ªùi ƒë∆∞·ª£c b√°o c√°o __________ v√¨ gia ƒë√¨nh kh√¥ng th·ªÉ t√¨m th·∫•y h·ªç.", key: ["could not find", "reported"], opts: ["safe", "missing", "numerous", "violent"], optsVi: ["an to√†n", "m·∫•t t√≠ch", "nhi·ªÅu", "b·∫°o l·ª±c"], correct: 1, exp: "Kh√¥ng t√¨m th·∫•y -> <b>missing</b> (m·∫•t t√≠ch)." },
            { q: "The hurricane was so __________ that it pulled up many big trees along the street.", qVi: "C∆°n b√£o qu√° __________ ƒë·∫øn n·ªói n√≥ nh·ªï b·∫≠t nhi·ªÅu c√¢y to d·ªçc ƒë∆∞·ªùng.", key: ["pulled up trees", "so ... that"], opts: ["safe", "awful", "numerous", "violent"], optsVi: ["an to√†n", "t·ªá h·∫°i", "nhi·ªÅu", "d·ªØ d·ªôi"], correct: 3, exp: "B√£o m·∫°nh, d·ªØ d·ªôi -> <b>violent</b>." },
            { q: "A __________ is a person who has been hurt or killed in an accident or a natural disaster.", qVi: "M·ªôt __________ l√† ng∆∞·ªùi b·ªã th∆∞∆°ng ho·∫∑c thi·ªát m·∫°ng trong tai n·∫°n ho·∫∑c th·∫£m h·ªça thi√™n nhi√™n.", key: ["person hurt/killed", "disaster"], opts: ["rescue worker", "victim", "property", "disaster"], optsVi: ["nh√¢n vi√™n c·ª©u h·ªô", "n·∫°n nh√¢n", "t√†i s·∫£n", "th·∫£m h·ªça"], correct: 1, exp: "Ng∆∞·ªùi b·ªã n·∫°n -> <b>victim</b>." },
            { q: "It is very __________ to stand under a tree during a thunderstorm with lightning.", qVi: "R·∫•t __________ khi ƒë·ª©ng d∆∞·ªõi g·ªëc c√¢y trong c∆°n gi√¥ng c√≥ s√©t.", key: ["stand under tree", "lightning"], opts: ["dangerous", "safe", "frightened", "missing"], optsVi: ["nguy hi·ªÉm", "an to√†n", "s·ª£ h√£i", "m·∫•t t√≠ch"], correct: 0, exp: "ƒê·ª©ng d∆∞·ªõi c√¢y khi c√≥ s√©t l√† <b>dangerous</b>." },
            { q: "The heavy rain caused a __________, and a lot of rock and mud came down the mountain.", qVi: "M∆∞a l·ªõn g√¢y ra __________, v√† r·∫•t nhi·ªÅu ƒë√° v√† b√πn ƒë·ªï xu·ªëng n√∫i.", key: ["rock and mud", "down mountain"], opts: ["tornado", "tsunami", "landslide", "volcanic eruption"], optsVi: ["l·ªëc xo√°y", "s√≥ng th·∫ßn", "s·∫°t l·ªü ƒë·∫•t", "n√∫i l·ª≠a phun"], correct: 2, exp: "ƒê·∫•t ƒë√° s·∫°t l·ªü -> <b>landslide</b>." },
            { q: "We always keep an __________ in our house, containing a flashlight, some food, and water.", qVi: "Ch√∫ng t√¥i lu√¥n gi·ªØ m·ªôt __________ trong nh√†, ch·ª©a ƒë√®n pin, √≠t th·ª©c ƒÉn v√† n∆∞·ªõc.", key: ["flashlight, food", "keep"], opts: ["emergency kit", "ash and gas", "property", "rescue worker"], optsVi: ["b·ªô d·ª•ng c·ª• kh·∫©n c·∫•p", "tro v√† kh√≠", "t√†i s·∫£n", "nh√¢n vi√™n c·ª©u h·ªô"], correct: 0, exp: "T√∫i ƒë·ªì d·ª± ph√≤ng -> <b>emergency kit</b>." },
            { q: "The flood caused a lot of __________ to the local farmers' crops and houses.", qVi: "L≈© l·ª•t g√¢y ra nhi·ªÅu __________ cho m√πa m√†ng v√† nh√† c·ª≠a c·ªßa n√¥ng d√¢n ƒë·ªãa ph∆∞∆°ng.", key: ["flood caused", "crops and houses"], opts: ["fear", "damage", "whistle", "funnel"], optsVi: ["n·ªói s·ª£", "thi·ªát h·∫°i", "c√°i c√≤i", "c√°i ph·ªÖu"], correct: 1, exp: "G√¢y thi·ªát h·∫°i -> caused <b>damage</b>." },
            { q: "The ground started __________ before the buildings began to collapse.", qVi: "M·∫∑t ƒë·∫•t b·∫Øt ƒë·∫ßu __________ tr∆∞·ªõc khi c√°c t√≤a nh√† b·∫Øt ƒë·∫ßu s·ª•p ƒë·ªï.", key: ["ground started", "collapse"], opts: ["pouring out", "predicting", "trembling", "avoiding"], optsVi: ["ƒë·ªï ra", "d·ª± ƒëo√°n", "rung chuy·ªÉn", "tr√°nh"], correct: 2, exp: "ƒê·ªông ƒë·∫•t l√†m ƒë·∫•t rung chuy·ªÉn -> <b>trembling</b>." },
            { q: "If you are in a building during a fire, you must __________ as fast as possible.", qVi: "N·∫øu b·∫°n ·ªü trong t√≤a nh√† khi c√≥ h·ªèa ho·∫°n, b·∫°n ph·∫£i __________ nhanh nh·∫•t c√≥ th·ªÉ.", key: ["fire", "must"], opts: ["hide under the table", "run out of", "look out of", "come down"], optsVi: ["tr·ªën d∆∞·ªõi b√†n", "ch·∫°y ra kh·ªèi", "nh√¨n ra ngo√†i", "ƒëi xu·ªëng/b·ªã b·ªánh"], correct: 1, exp: "G·∫∑p ch√°y ph·∫£i ch·∫°y tho√°t -> <b>run out of</b>." },
            { q: "A tornado is often described as a dark, __________-shaped cloud reaching down from the sky.", qVi: "L·ªëc xo√°y th∆∞·ªùng ƒë∆∞·ª£c m√¥ t·∫£ l√† m·ªôt ƒë√°m m√¢y ƒëen h√¨nh __________ v∆∞∆°n xu·ªëng t·ª´ b·∫ßu tr·ªùi.", key: ["tornado shape", "cloud"], opts: ["rock", "mud", "funnel", "whistle"], optsVi: ["ƒë√°", "b√πn", "c√°i ph·ªÖu", "c√°i c√≤i"], correct: 2, exp: "H√¨nh d·∫°ng l·ªëc xo√°y -> <b>funnel</b>-shaped." },
            { q: "Many houses and cars are considered private __________ that can be destroyed in a disaster.", qVi: "Nhi·ªÅu ng√¥i nh√† v√† xe h∆°i ƒë∆∞·ª£c coi l√† __________ ri√™ng t∆∞ c√≥ th·ªÉ b·ªã ph√° h·ªßy trong th·∫£m h·ªça.", key: ["houses and cars", "private"], opts: ["victims", "property", "rescue workers", "disasters"], optsVi: ["n·∫°n nh√¢n", "t√†i s·∫£n", "nh√¢n vi√™n c·ª©u h·ªô", "th·∫£m h·ªça"], correct: 1, exp: "Nh√† v√† xe l√† t√†i s·∫£n -> <b>property</b>." },
            { q: "You should __________ the coastal areas when there is a warning about a coming tsunami.", qVi: "B·∫°n n√™n __________ c√°c khu v·ª±c ven bi·ªÉn khi c√≥ c·∫£nh b√°o v·ªÅ s√≥ng th·∫ßn s·∫Øp t·ªõi.", key: ["tsunami warning", "coastal areas"], opts: ["avoid", "hurt", "damage", "affect"], optsVi: ["tr√°nh xa", "l√†m ƒëau", "l√†m h·∫°i", "·∫£nh h∆∞·ªüng"], correct: 0, exp: "S√≥ng th·∫ßn ƒë·∫øn th√¨ ph·∫£i tr√°nh xa b·ªù bi·ªÉn -> <b>avoid</b>." },
{ q: "A __________ is a very bad event like a flood or an earthquake.", qVi: "M·ªôt __________ l√† m·ªôt s·ª± ki·ªán r·∫•t t·ªìi t·ªá nh∆∞ l≈© l·ª•t ho·∫∑c ƒë·ªông ƒë·∫•t.", key: ["very bad event", "flood, earthquake"], opts: ["whistle", "disaster", "property", "rain"], optsVi: ["c√°i c√≤i", "th·∫£m h·ªça", "t√†i s·∫£n", "m∆∞a"], correct: 1, exp: "L≈© l·ª•t v√† ƒë·ªông ƒë·∫•t l√† c√°c v√≠ d·ª• c·ªßa <b>disaster</b> (th·∫£m h·ªça)." },
            { q: "There are __________ stars in the sky; you cannot count them all.", qVi: "C√≥ __________ ng√¥i sao tr√™n b·∫ßu tr·ªùi; b·∫°n kh√¥ng th·ªÉ ƒë·∫øm h·∫øt ch√∫ng.", key: ["cannot count", "stars"], opts: ["missing", "numerous", "violent", "awful"], optsVi: ["m·∫•t t√≠ch", "v√¥ s·ªë/r·∫•t nhi·ªÅu", "d·ªØ d·ªôi", "t·ªìi t·ªá"], correct: 1, exp: "Kh√¥ng ƒë·∫øm xu·ªÉ l√† <b>numerous</b> (r·∫•t nhi·ªÅu)." },
            { q: "The cat is very __________. It is hiding because of the loud noise.", qVi: "Con m√®o ƒëang r·∫•t __________. N√≥ ƒëang tr·ªën v√¨ ti·∫øng ·ªìn l·ªõn.", key: ["hiding", "loud noise"], opts: ["safe", "numerous", "frightened", "dangerous"], optsVi: ["an to√†n", "nhi·ªÅu", "ho·∫£ng s·ª£", "nguy hi·ªÉm"], correct: 2, exp: "Tr·ªën v√¨ s·ª£ ti·∫øng ·ªìn -> <b>frightened</b>." },
            { q: "Be careful! Don't __________ yourself with that broken glass.", qVi: "C·∫©n th·∫≠n! ƒê·ª´ng l√†m __________ b·∫£n th√¢n v·ªõi m·∫£nh k√≠nh v·ª° ƒë√≥.", key: ["broken glass", "yourself"], opts: ["hurt", "predict", "avoid", "erupt"], optsVi: ["ƒëau/t·ªïn th∆∞∆°ng", "d·ª± ƒëo√°n", "tr√°nh", "phun tr√†o"], correct: 0, exp: "K√≠nh v·ª° g√¢y th∆∞∆°ng t√≠ch -> <b>hurt</b>." },
            { q: "During a storm, you should not __________ the window. It is not safe.", qVi: "Trong c∆°n b√£o, b·∫°n kh√¥ng n√™n __________ c·ª≠a s·ªï. N√≥ kh√¥ng an to√†n.", key: ["storm", "window"], opts: ["run out of", "look out of", "hide under", "come down"], optsVi: ["ch·∫°y h·∫øt", "nh√¨n ra ngo√†i", "tr·ªën d∆∞·ªõi", "ƒëi xu·ªëng"], correct: 1, exp: "L·ªùi khuy√™n an to√†n: kh√¥ng n√™n <b>look out of</b> (nh√¨n ra ngo√†i) c·ª≠a s·ªï khi c√≥ b√£o." },
            { q: "The weather today is __________. It is too cold and rainy.", qVi: "Th·ªùi ti·∫øt h√¥m nay th·∫≠t __________. Tr·ªùi qu√° l·∫°nh v√† m∆∞a.", key: ["cold and rainy", "bad"], opts: ["safe", "awful", "numerous", "missing"], optsVi: ["an to√†n", "t·ªìi t·ªá/kh·ªßng khi·∫øp", "nhi·ªÅu", "m·∫•t t√≠ch"], correct: 1, exp: "Th·ªùi ti·∫øt x·∫•u -> <b>awful</b>." },
            { q: "A __________ is a very strong storm that happens in tropical areas.", qVi: "M·ªôt __________ l√† c∆°n b√£o r·∫•t m·∫°nh x·∫£y ra ·ªü c√°c v√πng nhi·ªát ƒë·ªõi.", key: ["strong storm", "tropical areas"], opts: ["landslide", "tropical storm", "rock", "mud"], optsVi: ["s·∫°t l·ªü ƒë·∫•t", "b√£o nhi·ªát ƒë·ªõi", "ƒë√°", "b√πn"], correct: 1, exp: "B√£o ·ªü v√πng nhi·ªát ƒë·ªõi -> <b>tropical storm</b>." },
            { q: "The police __________ people that a big storm is coming.", qVi: "C·∫£nh s√°t __________ ng∆∞·ªùi d√¢n r·∫±ng m·ªôt c∆°n b√£o l·ªõn ƒëang ƒë·∫øn.", key: ["police", "storm coming"], opts: ["damage", "warn", "erupt", "hurt"], optsVi: ["l√†m h·∫°i", "c·∫£nh b√°o", "phun tr√†o", "l√†m ƒëau"], correct: 1, exp: "C·∫£nh b√°o nguy hi·ªÉm -> <b>warn</b>." },
            { q: "When the volcano erupts, a lot of __________ comes out.", qVi: "Khi n√∫i l·ª≠a phun tr√†o, r·∫•t nhi·ªÅu __________ tho√°t ra.", key: ["volcano erupts", "comes out"], opts: ["ash and gas", "rescue worker", "emergency kit", "whistle"], optsVi: ["tro v√† kh√≠", "nh√¢n vi√™n c·ª©u h·ªô", "b·ªô c·ª©u th∆∞∆°ng", "c√°i c√≤i"], correct: 0, exp: "S·∫£n ph·∫©m c·ªßa n√∫i l·ª≠a phun tr√†o -> <b>ash and gas</b>." },
            { q: "Many people were __________ by the flood. They lost their homes.", qVi: "Nhi·ªÅu ng∆∞·ªùi ƒë√£ b·ªã __________ b·ªüi tr·∫≠n l·ª•t. H·ªç b·ªã m·∫•t nh√† c·ª≠a.", key: ["flood", "lost homes"], opts: ["predicted by", "avoided by", "affected by", "erupted by"], optsVi: ["ƒë∆∞·ª£c d·ª± ƒëo√°n", "ƒë∆∞·ª£c tr√°nh", "b·ªã ·∫£nh h∆∞·ªüng", "b·ªã phun tr√†o"], correct: 2, exp: "Ch·ªãu t√°c ƒë·ªông x·∫•u t·ª´ l≈© l·ª•t -> <b>affected by</b>." },
            { q: "The wind was so strong it could __________ a small tree.", qVi: "Gi√≥ m·∫°nh ƒë·∫øn n·ªói n√≥ c√≥ th·ªÉ __________ m·ªôt c√°i c√¢y nh·ªè.", key: ["strong wind", "tree"], opts: ["pull up", "hide under", "look out of", "trembling"], optsVi: ["nh·ªï b·∫≠t l√™n", "tr·ªën d∆∞·ªõi", "nh√¨n ra ngo√†i", "rung chuy·ªÉn"], correct: 0, exp: "Gi√≥ m·∫°nh l√†m b·∫≠t g·ªëc c√¢y -> <b>pull up</b>." },
            { q: "After the earthquake, the old wall started to __________.", qVi: "Sau tr·∫≠n ƒë·ªông ƒë·∫•t, b·ª©c t∆∞·ªùng c≈© b·∫Øt ƒë·∫ßu __________.", key: ["earthquake", "wall"], opts: ["predict", "come down", "avoid", "whistle"], optsVi: ["d·ª± ƒëo√°n", "ƒë·ªï s·ª•p/r∆°i xu·ªëng", "tr√°nh", "hu√Ωt s√°o"], correct: 1, exp: "T∆∞·ªùng ƒë·ªï do ƒë·ªông ƒë·∫•t -> <b>come down</b>." },
            { q: "I have a great __________ of fire. I never play with matches.", qVi: "T√¥i c√≥ m·ªôt n·ªói __________ l·ªõn v·ªõi l·ª≠a. T√¥i kh√¥ng bao gi·ªù ch∆°i v·ªõi di√™m.", key: ["fire", "never play"], opts: ["property", "victim", "fear", "funnel"], optsVi: ["t√†i s·∫£n", "n·∫°n nh√¢n", "s·ª£ h√£i", "c√°i ph·ªÖu"], correct: 2, exp: "S·ª£ l·ª≠a -> <b>fear</b> of fire." },
            { q: "Don't worry! The children are __________ in the house now.", qVi: "ƒê·ª´ng lo! L≈© tr·∫ª ƒëang __________ trong nh√† b√¢y gi·ªù.", key: ["Don't worry", "in the house"], opts: ["dangerous", "missing", "safe", "awful"], optsVi: ["nguy hi·ªÉm", "m·∫•t t√≠ch", "an to√†n", "t·ªìi t·ªá"], correct: 2, exp: "Kh√¥ng c·∫ßn lo l·∫Øng v√¨ ch√∫ng <b>safe</b> (an to√†n)." },
            { q: "A __________ is a storm with a lot of loud noise and bright light.", qVi: "M·ªôt __________ l√† c∆°n b√£o c√≥ nhi·ªÅu ti·∫øng ·ªìn l·ªõn v√† √°nh s√°ng ch√≥i.", key: ["loud noise", "bright light"], opts: ["thunderstorm", "landslide", "tsunami", "earthquake"], optsVi: ["d√¥ng b√£o (c√≥ s·∫•m s√©t)", "s·∫°t l·ªü ƒë·∫•t", "s√≥ng th·∫ßn", "ƒë·ªông ƒë·∫•t"], correct: 0, exp: "B√£o c√≥ s·∫•m (ti·∫øng ·ªìn) v√† s√©t (√°nh s√°ng) -> <b>thunderstorm</b>." }

           



        ];

        let answeredSet = new Set();
        let correctCount = 0;
        const totalCount = quizData.length;

        function initQuiz() {
            const container = document.getElementById('quiz-container');
            const nav = document.getElementById('q-nav');
            document.getElementById('stat-total').innerText = totalCount;
            document.getElementById('final-total').innerText = totalCount;

            quizData.forEach((item, index) => {
                const displayIndex = index + 91; // B·∫Øt ƒë·∫ßu t·ª´ c√¢u 91
                const card = document.createElement('div');
                card.className = 'question-card';
                card.id = `q-card-${index}`;
                
                card.innerHTML = `
                    <div class="question-text">
                        Question ${displayIndex}. ${item.q}
                        <div class="trans-text" id="trans-q-${index}">${item.qVi}</div>
                    </div>

                    <button class="btn-hint-toggle" onclick="toggleHint(${index})">
                        üí° G·ª£i √Ω
                    </button>
                    <div class="hint-content" id="hint-box-${index}">
                        <strong>Keywords:</strong> ${item.key.join('; ')}
                    </div>

                    <div class="options-list">
                        ${item.opts.map((opt, i) => `
                            <button class="option-btn" onclick="checkAnswer(this, ${index}, ${i})">
                                <span><b>${String.fromCharCode(65 + i)}.</b> ${opt}</span>
                                <span class="trans-text" id="trans-opt-${index}-${i}">(${item.optsVi[i]})</span>
                            </button>
                        `).join('')}
                    </div>
                    
                    <div class="explanation-box" id="exp-${index}"></div>

                    <button class="btn-trans-toggle" id="btn-trans-${index}" onclick="toggleTrans(${index})" disabled title="H√£y ch·ªçn ƒë√°p √°n tr∆∞·ªõc ƒë·ªÉ xem d·ªãch nghƒ©a">
                        üîí D·ªãch nghƒ©a
                    </button>
                `;
                container.appendChild(card);

                const qNum = document.createElement('div');
                qNum.className = 'q-num';
                qNum.id = `nav-${index}`;
                qNum.innerText = displayIndex;
                qNum.onclick = () => {
                    card.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    if(window.innerWidth <= 768) toggleSidebar();
                };
                nav.appendChild(qNum);
            });
        }

        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebar-overlay');
            sidebar.classList.toggle('active');
            overlay.classList.toggle('active');
            
            if(sidebar.classList.contains('active')) {
                document.body.style.overflow = 'hidden';
            } else {
                document.body.style.overflow = 'auto';
            }
        }

        function toggleHint(index) {
            document.getElementById(`hint-box-${index}`).classList.toggle('show');
        }

        function toggleTrans(index) {
            const qTrans = document.getElementById(`trans-q-${index}`);
            const btn = document.getElementById(`btn-trans-${index}`);
            
            qTrans.classList.toggle('show');
            for (let i = 0; i < 4; i++) {
                const optTrans = document.getElementById(`trans-opt-${index}-${i}`);
                if(optTrans) optTrans.classList.toggle('show');
            }
            
            if (qTrans.classList.contains('show')) {
                btn.innerHTML = 'üåê ·∫®n d·ªãch nghƒ©a';
                btn.style.backgroundColor = '#e8f0fe';
                btn.style.color = '#1a73e8';
            } else {
                btn.innerHTML = 'üåê D·ªãch nghƒ©a';
                btn.style.backgroundColor = '#f1f3f4';
                btn.style.color = '#555';
            }
        }

        function updateStats() {
            document.getElementById('stat-correct').innerText = correctCount;
            const score = (correctCount / totalCount * 10).toFixed(1);
            document.getElementById('stat-score').innerText = score;
        }

        function checkAnswer(btn, qIndex, optIndex) {
            if (answeredSet.has(qIndex)) return;
            answeredSet.add(qIndex);

            const buttons = btn.parentElement.querySelectorAll('.option-btn');
            const correctIndex = quizData[qIndex].correct;
            const expBox = document.getElementById(`exp-${qIndex}`);
            const transBtn = document.getElementById(`btn-trans-${qIndex}`);
            const navNum = document.getElementById(`nav-${qIndex}`);

            if (transBtn.hasAttribute('disabled')) {
                transBtn.removeAttribute('disabled');
                transBtn.innerHTML = 'üåê D·ªãch nghƒ©a';
            }

            if (optIndex === correctIndex) {
                btn.classList.add('correct');
                navNum.classList.add('done-correct');
                correctCount++;
            } else {
                btn.classList.add('wrong');
                navNum.classList.add('done-wrong');
                buttons[correctIndex].classList.add('correct');
            }

            updateStats();
            buttons.forEach(b => b.classList.add('disabled'));

            const percent = (answeredSet.size / quizData.length) * 100;
            document.getElementById('progress-bar').style.width = percent + '%';

            expBox.innerHTML = `<strong>Gi·∫£i th√≠ch:</strong> ${quizData[qIndex].exp}`;
            expBox.style.display = 'block';
        }

        function submitQuiz() {
            if (window.innerWidth <= 768) {
                toggleSidebar();
            }
            
            if (answeredSet.size < totalCount) {
                const confirmSubmit = confirm(`B·∫°n m·ªõi l√†m ${answeredSet.size}/${totalCount} c√¢u. B·∫°n c√≥ ch·∫Øc mu·ªën n·ªôp b√†i kh√¥ng?`);
                if (!confirmSubmit) return;
            }

            const score = (correctCount / totalCount * 10).toFixed(1);
            let rank = "";
            if(score >= 9) rank = "Xu·∫•t s·∫Øc (Excellent)";
            else if(score >= 8) rank = "Gi·ªèi (Good)";
            else if(score >= 6.5) rank = "Kh√° (Fair)";
            else if(score >= 5) rank = "Trung b√¨nh (Average)";
            else rank = "C·∫ßn c·ªë g·∫Øng th√™m (Poor)";

            document.getElementById('final-score').innerText = score;
            document.getElementById('final-correct').innerText = correctCount;
            document.getElementById('final-rank').innerText = rank;
            document.getElementById('result-modal').style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('result-modal').style.display = 'none';
        }

        window.onload = initQuiz;
    </script>
</body>
</html>
